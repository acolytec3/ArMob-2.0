(this.webpackJsonparmobv2=this.webpackJsonparmobv2||[]).push([[0],{184:function(e,t){},279:function(e,t){},285:function(e,t){},419:function(e,t){},421:function(e,t){},433:function(e,t){},435:function(e,t){},457:function(e,t){},585:function(e,t){},586:function(e,t){},603:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(1),c=n.n(a),s=n(77),o=n.n(s),i=n(4),l=n(648),u=n(624),d=n(645),j=n(622),b=n(632),f=n(67),p=n(46),x=n(148),O=n.n(x),h=(n(343),n(65)),v=n(620),m=n(621),g=n(327),y={key:null,balance:"",address:"",tokens:[],tokenAddresses:[],wallets:[]},k=Object(a.createContext)({state:y,dispatch:function(){return null}}),w=n(308),S=function(e){var t=e.isOpen,n=e.close,a=e.setTxnOpen,s=c.a.useState(""),o=Object(i.a)(s,2),u=o[0],d=o[1],j=c.a.useContext(k).dispatch;return Object(r.jsx)(h.a,{closeOnOverlayClick:!0,isOpen:t,onClose:function(){d(""),n("camera")},children:Object(r.jsx)(h.h,{children:Object(r.jsxs)(h.d,{children:[Object(r.jsx)(h.g,{}),Object(r.jsx)(h.c,{}),Object(r.jsx)(h.b,{children:Object(r.jsxs)(l.b,{align:"center",children:[u?Object(r.jsx)(v.a,{src:u}):Object(r.jsx)(O.a,{onTakePhotoAnimationDone:function(e){console.log("takePhoto"),d(e)},imageType:x.IMAGE_TYPES.JPG,idealFacingMode:x.FACING_MODES.ENVIRONMENT,isImageMirror:!1,children:Object(r.jsx)(m.a,{"aria-label":"refresh",icon:Object(r.jsx)(w.a,{})})}),Object(r.jsx)(g.a,{isDisabled:!u,onClick:function(){d(""),j({type:"SET_PICTURE",payload:{picture:u}}),a(),n("camera")},children:"Next"})]})})]})})})},C=n(7),T=n(3),A=n.n(T),E=n(9),I=n(623),D=n(625),F=n(626),R=n(627),z=n(643),N=n(628),L=n(646),W=n(631),P=n(328),B=n(649),M=n(630),_=n(83),q=n.n(_),U=n(198),V=n.n(U),H=n(111),J=n(150),G=(n(194),function(){return q.a.init({host:"arweave.net",port:443})}),K=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return t=e.sent,e.next=5,t.network.getInfo();case 5:return n=e.sent,e.abrupt("return",n.height);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=G(),r="","string"!==typeof t){e.next=6;break}r=t,e.next=9;break;case 6:return e.next=8,n.wallets.jwkToAddress(t);case 8:r=e.sent;case 9:return e.t0=n.ar,e.next=12,n.wallets.getBalance(r);case 12:return e.t1=e.sent,a=e.t0.winstonToAr.call(e.t0,e.t1),e.abrupt("return",{address:r,balance:a});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),e.next=3,Object(J.a)(n,t);case 3:return r=e.sent,e.abrupt("return",{ticker:r.ticker,contract:t,contractState:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a,c,s,o,i,l,u,d,j;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=void 0===n?void 0:n,a=t.name,c=void 0===a?void 0:a,s=t.value,o=void 0===s?void 0:s,i=t.to,l=void 0===i?void 0:i,u=t.cursor,d=void 0===u?void 0:u,j="first: 10 \n    ".concat(r?'owners:["'+r+'"]':"","\n    ").concat(d?'after:"'+d+'"':""," \n    ").concat(c?'tags:{name:"'+c+'",values:["'+o+'"]}':"","\n    ").concat(l?'recipients:  ["'+l+'"]':""),e.abrupt("return",V.a.post("https://arweave.net/graphql",{query:"query {\n                transactions(".concat(j,"\n                 ) {\n                  edges {\n                    cursor\n                    node {\n                      id\n                      recipient\n                      tags {\n                        name\n                        value\n                      }\n                      fee {\n                        winston\n                        ar\n                      }\n                      quantity {\n                        winston\n                        ar\n                      }\n                      owner {\n                        address\n                      }\n                    }\n                  }\n                }\n              }")}).then((function(e){return e.data.data.transactions.edges})).catch((function(e){return console.log(e),[]})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.get("https://arweave.net:443/price/".concat(t));case 2:return n=e.sent,r=q.a.init({host:"arweave.net",port:443}),e.abrupt("return",r.ar.winstonToAr(n.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=q.a.init({host:"arweave.net",port:443}),e.next=4,r.createTransaction({target:t.to,quantity:r.ar.arToWinston(t.amount)},n);case 4:return(a=e.sent).addTag("App-Name","ArMob 2.0"),e.next=8,r.transactions.sign(a,n);case 8:return e.next=10,r.transactions.post(a);case 10:c=e.sent,console.log(c),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("Error sending tranfer - ".concat(e.t0)),e.abrupt("return","Error submitting transaction - ".concat(e.t0));case 18:return e.abrupt("return","Transaction submitted successfully");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a){var c,s,o,l,u,d,j,b,f,p;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=G(),e.next=4,Object(H.interactWriteDryRun)(c,a,t,{target:r,qty:n,function:"transfer"});case 4:if(s=e.sent,console.log("Dry-run result is:",s),"ok"!==s.type){e.next=20;break}return e.next=9,c.createTransaction({target:r,data:Math.random().toString().slice(-4)},a);case 9:for(o=e.sent,l={Contract:t,"App-Name":"SmartWeaveAction","App-Version":"0.3.0",Input:JSON.stringify({function:"transfer",target:r,qty:n})},u=0,d=Object.entries(l);u<d.length;u++)j=Object(i.a)(d[u],2),b=j[0],f=j[1],o.addTag(b,f.toString());return e.next=14,c.transactions.sign(o,a);case 14:return console.log(o.id),e.next=17,c.transactions.post(o);case 17:return p=e.sent,console.log(p.statusText),e.abrupt("return","success!");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0.toString());case 26:return e.abrupt("return","");case 27:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r){var a,c,s,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=G(),e.next=4,t.arrayBuffer();case 4:return c=e.sent,e.next=7,a.createTransaction({data:c},n);case 7:return s=e.sent,r.forEach((function(e){return s.addTag(e.name,e.value)})),e.next=11,a.transactions.sign(s,n);case 11:return e.next=13,a.transactions.post(s);case 13:o=e.sent,console.log(o),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.log("Error sending tranfer - ".concat(e.t0)),e.abrupt("return","Error submitting transaction - ".concat(e.t0));case 21:return e.abrupt("return","Transaction submitted successfully");case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ne=function(e,t){var n=(t-e)/720;return n>1?"".concat(Math.floor(n)," more days"):n>.041?"".concat(Math.floor(24*n)," more hours"):"less than 1 hour"},re=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n,r,a,c,s,o,i,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",n=!0,r=G(),a=[];case 4:if(!n){e.next=15;break}return c={query:'\n              query {\n                  transactions(\n                      tags: [\n                          { name: "App-Name", values: ["SmartWeaveContract"] }\n                          {\n                              name: "Contract-Src"\n                              values: ["ngMml4jmlxu0umpiQCsHgPX2pb_Yz6YDB8f7G6j-tpI"]\n                          }\n                      ]\n                      after: "'.concat(t,'"\n                      first: 100\n                  ) {\n                      pageInfo {\n                          hasNextPage\n                      }\n                      edges {\n                          cursor\n                          node {\n                              id\n                          }\n                      }\n                  }\n              }            \n          ')},e.next=8,r.api.post("/graphql",c);case 8:for(s=e.sent,o=s.data,i=0,l=o.data.transactions.edges.length;i<l;i++)a.push(o.data.transactions.edges[i].node.id);(n=o.data.transactions.pageInfo.hasNextPage)&&(t=o.data.transactions.edges[o.data.transactions.edges.length-1].cursor),e.next=4;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),r={query:'\n  query {\n    transactions(ids: ["'.concat(t,'"]) {\n        edges {\n            node {\n                id\n              \ttags {\n                  name\n                  value\n                }\n            }\n        }\n    }\n}')},e.next=4,n.api.post("/graphql",r);case 4:return a=e.sent,console.log(a),c=a.data.data.transactions.edges[0].node.tags.filter((function(e){return"Contract-Src"===e.name}))[0].value,console.log(c),e.next=10,n.transactions.getData(c,{decode:!0,string:!0});case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(E.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),e.next=3,Object(J.a)(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a,c){var s,o,i,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in s=G(),console.log("params are"),console.log(r),console.log("types are"),console.log(c),o=Object(C.a)({},r))"integer"===c[i]?o[i]=parseInt(r[i]):"float"===c[i]&&(o[i]=parseFloat(r[i]));return e.next=9,Object(H.interactWriteDryRun)(s,a,n,Object(C.a)(Object(C.a)({},o),{},{function:t}));case 9:return l=e.sent,console.log(l),e.abrupt("return",l.type);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),oe=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a,c,s){var o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in o=G(),console.log("params are"),console.log(r),console.log("types are"),console.log(c),i=Object(C.a)({},r))"integer"===c[l]?i[l]=parseInt(r[l]):"float"===c[l]&&(i[l]=parseFloat(r[l]));if("write"!==s){e.next=13;break}return e.next=10,Object(H.interactWrite)(o,a,n,Object(C.a)(Object(C.a)({},i),{},{function:t}));case 10:u=e.sent,e.next=16;break;case 13:return e.next=15,Object(H.interactRead)(o,a,n,Object(C.a)(Object(C.a)({},i),{},{function:t}));case 15:u=e.sent;case 16:return console.log(u),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s){return e.apply(this,arguments)}}(),ie=n(514),le=(n(515),function(){var e=c.a.useState(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=c.a.useState(""),o=Object(i.a)(s,2),d=o[0],j=o[1],b=c.a.useState([]),f=Object(i.a)(b,2),p=f[0],x=f[1],O=c.a.useState([]),h=Object(i.a)(O,2),v=h[0],m=h[1],y=c.a.useState({}),k=Object(i.a)(y,2),w=k[0],S=k[1],C=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(d);case 2:if(t=e.sent,a(t),!t){e.next=15;break}return a(t),e.next=8,ie.parse(t,{ecmaVersion:"latest",sourceType:"module"});case 8:return"handle"===(n=e.sent).body[0].declaration.id.name&&(r=n.body[0].declaration.body.body.filter((function(e){return"IfStatement"===e.type&&"input"===e.test.left.object.name})),c=T(r),x(c.writeMethods.filter((function(e){return e.name}))),m(c.readMethods.filter((function(e){return e.name}))),console.log(c)),e.next=12,ce(d);case 12:t=e.sent,console.log(t),S(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=[],n=[];return e.forEach((function(e){if("BinaryExpression"===e.test.type&&e.test.left.object&&"input"===e.test.left.object.name)try{var r=e.consequent.body[e.consequent.body.length-1];if("ReturnStatement"===r.type&&"state"===r.argument.properties[0].key.name){var a=e.consequent.body.filter((function(e){return"VariableDeclaration"==e.type&&e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name})).map((function(e){return e.declarations[0].id.name})),c=e.test.right.value;n.push({name:c,params:a,methodType:"write",contractId:d})}else{console.log("found read method");var s=e.consequent.body.filter((function(e){return"VariableDeclaration"===e.type&&(e.declarations[0].init.left&&e.declarations[0].init.left.object&&"input"===e.declarations[0].init.left.object.name||e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name)})).map((function(e){return e.declarations[0].id.name})),o=e.test.right.value;t.push({name:o,params:s,methodType:"read",contractId:d})}}catch(i){console.log(i)}})),{readMethods:t,writeMethods:n}};return Object(r.jsxs)(l.c,{children:[Object(r.jsx)(I.a,{placeholder:"Smartweave Contract ID",value:d,onChange:function(e){return j(e.target.value)}}),Object(r.jsx)(g.a,{onClick:C,children:"Load Contract"}),Object(r.jsx)(u.a,{size:"xs",children:"Contract Source"}),Object(r.jsx)(D.a,{w:"100%",children:Object(r.jsx)(F.a,{overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",isReadOnly:!0,defaultValue:n})}),Object(r.jsx)(u.a,{size:"xs",children:"Contract State"}),Object(r.jsx)(D.a,{w:"100%",overflow:"scroll",height:"200px",fontSize:"xs",align:"start",children:JSON.stringify(w,null,2)}),Object(r.jsx)(u.a,{size:"xs",children:"Write Methods"}),Object(r.jsx)(R.a,{children:p&&p.map((function(e){return Object(r.jsx)(R.b,{children:Object(r.jsx)(ue,{name:e.name,params:e.params,methodType:e.methodType,contractId:d})})}))}),Object(r.jsx)(u.a,{size:"xs",children:"Read Methods"}),Object(r.jsx)(R.a,{children:v&&v.map((function(e){return Object(r.jsx)(R.b,{children:Object(r.jsx)(ue,{name:e.name,params:e.params,methodType:e.methodType,contractId:d})})}))})]})}),ue=function(e){var t=e.name,n=e.params,a=e.methodType,s=e.contractId,o=c.a.useState({}),u=Object(i.a)(o,2),d=u[0],f=u[1],p=c.a.useState({}),x=Object(i.a)(p,2),O=x[0],h=x[1],v=c.a.useContext(k).state,m=Object(z.a)(),y=c.a.useState(),w=Object(i.a)(y,2),S=w[0],T=w[1],R=Object(N.a)(),_=R.isOpen,q=R.onToggle,U=function(){var e=Object(E.a)(A.a.mark((function e(n){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t,s,d,v.key,O,a);case 2:r=e.sent,m(r?{title:"Successfully submitted transaction!",status:"success",duration:3e3,position:"bottom"}:{title:"Error submitting transaction",status:"error",duration:3e3,position:"bottom"}),n(),T();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(L.a,{allowToggle:!0,children:Object(r.jsxs)(L.d,{children:[Object(r.jsxs)(L.b,{children:[Object(r.jsx)(W.a,{children:t}),Object(r.jsx)(L.c,{})]}),Object(r.jsxs)(L.e,{children:[n.map((function(e,n){return Object(r.jsxs)(b.a,{children:[Object(r.jsx)(I.a,{placeholder:e,value:d[n],onChange:function(t){var n=Object(C.a)({},d);n[e]=t.target.value,f(n)}},t+e),Object(r.jsxs)(P.a,{name:"param-type",onChange:function(t){var n=Object(C.a)({},O);n[e]=t.toString(),h(n)},value:O[e],direction:"horizontal",children:[Object(r.jsx)(B.a,{value:"string",children:"String"}),Object(r.jsx)(B.a,{value:"integer",children:"Integer"}),Object(r.jsx)(B.a,{value:"float",children:"Float"})]})]})})),"write"===a?Object(r.jsx)(r.Fragment,{children:!_&&!S&&Object(r.jsx)(g.a,{onClick:function(){q(),se(t,s,d,v.key,O).then((function(e){return T(e)}))},children:"Test Contract Method Call"})}):Object(r.jsx)(r.Fragment,{children:_?Object(r.jsx)(g.a,{onClick:function(){q(),T()},children:"Start Over"}):Object(r.jsx)(g.a,{onClick:function(){q(),oe(t,s,d,v.key,O,a).then((function(e){return T(e)}))},children:"Read Contract"})}),Object(r.jsx)(M.a,{in:_,children:"write"===a?Object(r.jsxs)(l.c,{children:[S?Object(r.jsxs)(W.a,{children:["Transaction status is ",S]}):Object(r.jsx)(j.a,{}),Object(r.jsxs)(l.a,{children:[Object(r.jsx)(g.a,{onClick:function(){return U(q)},children:"Live dangerously!"}),Object(r.jsx)(g.a,{onClick:function(){q(),T()},children:"Start Over"})]})]}):Object(r.jsxs)(D.a,{children:[Object(r.jsx)(W.a,{children:"Method Result"}),S?Object(r.jsx)(F.a,{isReadOnly:!0,overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",defaultValue:JSON.stringify(S,null,2)}):Object(r.jsx)(j.a,{})]})})]})]},t)})},de=function(e){var t=e.icon,n=e.label,a=e.clickHandler,c=e.yPos;return Object(r.jsxs)(l.b,{isInline:!0,position:"fixed",bottom:c,right:"20px",align:"center",children:[Object(r.jsx)(W.a,{fontSize:11,children:n}),Object(r.jsx)(m.a,{"aria-label":"wallet",icon:t,isRound:!0,onClick:Object(E.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a());case 1:case"end":return e.stop()}}),e)})))})]})},je=function(e){var t,n=e.children,a=c.a.useState(!1),s=Object(i.a)(a,2),o=s[0],l=s[1],u=c.a.useRef(null),d=n&&n.filter((function(e){return c.a.isValidElement(e)}));return t=u,c.a.useEffect((function(){function e(e){t.current&&!t.current.contains(e.target)&&l(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),Object(r.jsxs)("div",{ref:u,style:{position:"fixed",bottom:"50px",right:"20px"},children:[Object(r.jsx)(m.a,{"aria-label":"open",isRound:!0,icon:o?Object(r.jsx)(p.f,{}):Object(r.jsx)(p.g,{}),onClick:function(e){return l(!o)}}),o&&d.map((function(e,t){if(c.a.isValidElement(e))return c.a.cloneElement(e,Object(C.a)(Object(C.a)({},e.props),{},{yPos:(100+50*t).toString()+"px"}))}))]})},be=n(15),fe=n(323),pe=n(324),xe=n(329),Oe=n(109),he=n(636),ve=n(651),me=n(634),ge=n(639),ye=n(633),ke=n(642),we=n(205),Se=n(650),Ce=n(635),Te=n(330),Ae=function(){var e=Object(E.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Te.a(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a,c,s,o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(n);case 2:return r=e.sent,e.next=5,r.getTradingPosts();case 5:return a=e.sent,e.next=8,r.getConfig(a[0]);case 8:if(!(c=e.sent).hasOwnProperty("publicURL")){e.next=29;break}return e.next=12,fetch("https://".concat(c.publicURL,"/orders"));case 12:return e.next=14,e.sent.json();case 14:return s=e.sent,e.prev=15,o=s.find((function(e){return e.token===t})).orders.filter((function(e){return"Sell"===e.type})).sort((function(e,t){return t.rate-e.rate})),i=o.reduce((function(e,t){return e+t.amnt}),0),l=o.reduce((function(e,t){return e+t.amnt/i*t.rate}),0),u=o.map((function(e){return{rate:1/e.rate,amount:e.amnt}})),e.abrupt("return",{volume:i,averageRate:1/l,rates:u});case 23:return e.prev=23,e.t0=e.catch(15),console.log(e.t0),e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 27:e.next=30;break;case 29:return e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 30:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a,c,s,o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(n);case 2:return r=e.sent,e.next=5,r.getTradingPosts();case 5:return a=e.sent,e.next=8,r.getConfig(a[0]);case 8:if(!(c=e.sent).hasOwnProperty("publicURL")){e.next=29;break}return e.next=12,fetch("https://".concat(c.publicURL,"/orders"));case 12:return e.next=14,e.sent.json();case 14:return s=e.sent,e.prev=15,o=s.find((function(e){return e.token===t})).orders.filter((function(e){return"Buy"===e.type})).sort((function(e,t){return e.rate-t.rate})),i=o.reduce((function(e,t){return e+t.amnt}),0),l=o.reduce((function(e,t){return e+t.amnt/i*t.rate}),0),u=o.map((function(e){return{rate:e.rate,amount:e.amnt}})),e.abrupt("return",{volume:i,averageRate:l,rates:u});case 23:return e.prev=23,e.t0=e.catch(15),console.log(e.t0),e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 27:e.next=30;break;case 29:return e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 30:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a){var c,s,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(r);case 2:return c=e.sent,e.next=5,c.getTradingPosts();case 5:return s=e.sent,e.next=8,c.createOrder(t,n,a,s[0]);case 8:return o=e.sent,console.log(o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(n);case 2:return r=e.sent,e.next=5,r.sendOrder(t);case 5:return a=e.sent,console.log(a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(e){var t=e.contractID,n=e.ticker,a=e.balance,s=c.a.useState(!1),o=Object(i.a)(s,2),d=o[0],f=o[1],p=c.a.useState({}),x=Object(i.a)(p,2),O=x[0],h=x[1],v=c.a.useState(""),m=Object(i.a)(v,2),y=m[0],w=m[1],S=c.a.useState(0),C=Object(i.a)(S,2),T=C[0],D=C[1],F=c.a.useState(0),R=Object(i.a)(F,2),z=R[0],N=R[1],L=c.a.useContext(k).state,P=c.a.useState(""),B=Object(i.a)(P,2),M=B[0],_=B[1],q=c.a.useState(0),U=Object(i.a)(q,2),V=U[0],H=U[1],J=c.a.useState({}),G=Object(i.a)(J,2),K=G[0],Y=G[1];c.a.useEffect((function(){f(!0);var e=!0;return function(){var n=Object(E.a)(A.a.mark((function n(){var r,a,c;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee(t,L.key);case 2:return r=n.sent,n.next=5,Ie(t,L.key);case 5:if(a=n.sent,!e){n.next=9;break}return n.next=9,h({buy:r,sell:a});case 9:if(!e){n.next=15;break}return f(!1),n.next=13,De("Buy",Math.floor(parseFloat(L.balance)),L.key,t);case 13:c=n.sent,e&&N(c.ar);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!1}}),[]);var Q=function(){var e=Object(E.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==T){e.next=3;break}return e.next=3,X();case 3:return e.next=5,De("Buy",T,L.key,t);case 5:return n=e.sent,e.next=8,Y(n);case 8:w(""),console.log(K);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(y)){e.next=6;break}return D(0),e.abrupt("return");case 6:n=0,r=0;case 8:if(!(r<O.buy.rates.length)){e.next=19;break}if(!(O.buy.rates[r].amount<t)){e.next=14;break}n+=O.buy.rates[r].amount*O.buy.rates[r].rate,t-=O.buy.rates[r].amount,e.next=16;break;case 14:return n+=O.buy.rates[r].rate*t,e.abrupt("break",19);case 16:r++,e.next=8;break;case 19:D(n);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(K.txs,L.key);case 2:t=e.sent,Y({}),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(E.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==V){e.next=3;break}return e.next=3,ee();case 3:return e.next=5,De("Sell",parseInt(M),L.key,t);case 5:return n=e.sent,e.next=8,Y(n);case 8:console.log(K),_("");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(M)){e.next=4;break}return H(0),e.abrupt("return");case 4:n=0,O.sell.rates.every((function(e){return t>e.amount?(n+=e.amount*e.rate,t-=e.amount,!0):(n+=t*e.rate,!1)})),H(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(l.c,{align:"center",children:[Object(r.jsx)(u.a,{size:"sm",children:"Verto Exchange"}),d&&Object(r.jsx)(ye.a,{h:"100px",children:Object(r.jsx)(j.a,{})}),!d&&Object(r.jsxs)(b.a,{children:[Object(r.jsxs)(u.a,{size:"sm",children:["Buy ",n]}),Object(r.jsx)(me.a,{}),O.buy&&O.buy.volume>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(W.a,{children:["Average Buy Price: ",O.buy.averageRate.toLocaleString(void 0,{maximumFractionDigits:6})," ",n,"/AR"]}),Object(r.jsxs)(W.a,{children:["Total Available ",n,": ",O.buy.volume]}),Object(r.jsxs)(W.a,{children:["Total AR you can spend: ",z]}),Object(r.jsxs)(l.a,{children:[Object(r.jsx)(I.a,{placeholder:"Enter amount",w:"50%",value:y,onChange:function(e){return w(e.target.value)},onBlur:X}),Object(r.jsxs)(W.a,{children:["Cost in AR: ",T]}),Object(r.jsx)(ke.a,{closeOnBlur:!1,children:function(e){var t=e.onClose;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ke.g,{children:Object(r.jsx)(g.a,{disabled:!y||parseInt(y)<=0||NaN===parseInt(y),onClick:Q,children:"Buy"})}),Object(r.jsxs)(ke.e,{children:[Object(r.jsx)(ke.b,{}),Object(r.jsx)(ke.d,{}),Object(r.jsx)(ke.f,{children:"Order Confirmation"}),Object(r.jsx)(ke.c,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsxs)(W.a,{children:["Transaction Cost: ",K.ar]}),Object(r.jsxs)(W.a,{children:[n," received: ",y]}),Object(r.jsxs)(W.a,{children:["Wallet balance after transaction: ",parseFloat(L.balance)-K.ar]}),Object(r.jsx)(g.a,{onClick:function(){$(),t()},children:"Submit Order"})]})})]})]})}})]})]}):Object(r.jsx)(W.a,{children:"No open buy orders"}),Object(r.jsxs)(u.a,{size:"sm",children:["Sell ",n]}),Object(r.jsx)(me.a,{}),O.sell&&O.sell.volume>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(W.a,{children:["Average Sell Price: ",O.sell.averageRate.toLocaleString(void 0,{maximumFractionDigits:6})," ",n,"/AR"]}),Object(r.jsxs)(W.a,{children:["Total of open orders: ",O.sell.volume," ",n]}),Object(r.jsxs)(l.a,{children:[Object(r.jsx)(I.a,{placeholder:"Enter amount",value:M,invalid:parseInt(M)>parseInt(a),onChange:function(e){return _(e.target.value)},onBlur:ee}),Object(r.jsxs)(W.a,{children:["Amount in AR: ",V]}),Object(r.jsx)(ke.a,{closeOnBlur:!1,children:function(e){var t=e.onClose;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ke.g,{children:Object(r.jsx)(g.a,{disabled:parseInt(M)>parseInt(a)||parseInt(M)<=0,onClick:Z,children:"Sell"})}),Object(r.jsxs)(ke.e,{children:[Object(r.jsx)(ke.b,{}),Object(r.jsx)(ke.d,{}),Object(r.jsx)(ke.f,{children:"Order Confirmation"}),Object(r.jsx)(ke.c,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsxs)(W.a,{children:["Transaction Cost: ",K.pst," ",n]}),Object(r.jsxs)(W.a,{children:["AR received: ",V]}),Object(r.jsxs)(W.a,{children:["Wallet balance after transaction: ",parseFloat(L.balance)+V]}),Object(r.jsx)(g.a,{onClick:function(){$(),t()},children:"Submit Order"})]})})]})]})}})]})]}):Object(r.jsx)(W.a,{children:"No open sell orders"})]})]})},ze=function(e){var t=c.a.useState(0),n=Object(i.a)(t,2),a=n[0],s=n[1],o=c.a.useState(!1),u=Object(i.a)(o,2),d=u[0],j=u[1];return c.a.useEffect((function(){for(var t=!0,n=0,r=0,a=Object.entries(e.balances);r<a.length;r++){var c=Object(i.a)(a[r],2);c[0];n+=c[1]}return t&&s(n),function(){t=!1}}),[e]),Object(r.jsxs)(b.a,{w:"100%",children:[Object(r.jsx)(b.a,{bg:"white",border:"1px",borderColor:"grey",onClick:function(){return j(!d)},children:Object(r.jsxs)(W.a,{children:["All balances - ",a," in circulation"]})}),Object(r.jsx)(M.a,{in:d,children:Object.entries(e.balances).map((function(e){return Object(r.jsxs)(l.a,{w:"100%",children:[Object(r.jsxs)(W.a,{maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:[e[0],":"]},e[0]),Object(r.jsx)(W.a,{children:e[1].toString()},e[0]+e[0])]},e[0]+1)}))})]})},Ne=function(e){var t=e.vault,n=c.a.useState(0),a=Object(i.a)(n,2),s=a[0],o=a[1],u=Object(N.a)(),d=u.isOpen,j=u.onToggle;return c.a.useEffect((function(){for(var e=!0,n=0,r=0,a=Object.entries(t);r<a.length;r++){var c=Object(i.a)(a[r],2),s=(c[0],c[1]);s[0]&&(n+=s[0].balance)}return e&&o(n),function(){e=!1}}),[t]),Object(r.jsxs)(b.a,{w:"100%",children:[Object(r.jsx)(b.a,{bg:"white",border:"1px",borderColor:"grey",onClick:j,children:Object(r.jsxs)(W.a,{children:["Vaulted balances: ",s]})}),Object(r.jsx)(M.a,{in:d,children:Object.keys(t).map((function(e){return t[e].length>0?t[e].map((function(t,n){return Object(r.jsxs)(b.a,{fontSize:12,children:[Object(r.jsxs)(W.a,{maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:["Address: ",e]},e),Object(r.jsxs)(l.a,{children:[Object(r.jsxs)(W.a,{children:["Balance: ",t.balance]},t.toString()),Object(r.jsxs)(W.a,{children:["End Block: ",t.end]},t.start+t.end+e)]})]},e+n)})):null}))})]})},Le=function(e){var t=e.isOpen,n=e.close,a=e.contractState,s=c.a.useContext(k).state,o=c.a.useState([]),d=Object(i.a)(o,2),j=d[0],b=d[1],f=c.a.useState(""),p=Object(i.a)(f,2),x=p[0],O=p[1];return c.a.useEffect((function(){var e=!0;console.log(a);var t=function(){var t=Object(E.a)(A.a.mark((function t(n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Promise.all(n[s.address].map(function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===t||void 0===t?void 0:t.end)){e.next=6;break}return e.next=4,ne(s.blockHeight?s.blockHeight:0,n);case 4:return r=e.sent,e.abrupt("return",{balance:t.balance,message:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=t.sent,e&&b(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.vault&&a.vault[s.address]&&t(a.vault),function(){e=!1}}),[a]),c.a.useEffect((function(){var e;try{a.settings&&(e=a.settings.filter((function(e){return"communityLogo"===e[0]}))[0][1]),O(e)}catch(t){console.log("error loading logo"),console.log(t)}return e&&O(e),function(){O("")}}),[a]),Object(r.jsx)(r.Fragment,{children:a.balances&&Object(r.jsxs)(Se.a,{isOpen:t,placement:"right",onClose:n,size:"full",children:[Object(r.jsx)(h.h,{}),Object(r.jsxs)(Se.b,{children:[Object(r.jsx)(h.c,{onClick:n}),Object(r.jsxs)(h.g,{children:[a.name&&Object(r.jsx)(u.a,{size:"md",children:a.name}),Object(r.jsxs)(l.a,{children:[Object(r.jsx)(W.a,{children:a.ticker}),""!==x&&Object(r.jsx)(Ce.a,{src:"https://arweave.net/".concat(x)})]})]}),Object(r.jsxs)(h.b,{children:[Object(r.jsxs)(l.b,{children:[Object(r.jsxs)(W.a,{children:["Balance: ",a.balances[s.address]?a.balances[s.address]:0]}),j.map((function(e,t){return Object(r.jsxs)(l.a,{children:[Object(r.jsxs)(W.a,{children:["Vaulted Balance: ",e.balance]},t+e.toString()),Object(r.jsx)(W.a,{children:e.message},t+e.message)]})})),Object(r.jsx)(Re,{contractID:a.contractID,ticker:a.ticker,balance:a.balances[s.address]})]}),a.balances&&Object(r.jsx)(ze,{balances:a.balances}),a.vault&&Object(r.jsx)(Ne,{vault:a.vault})]}),Object(r.jsx)(h.f,{mb:{base:"25%",sm:"25%",md:"25%",lg:0,xl:0},children:Object(r.jsx)(g.a,{variant:"outline",onClick:n,mr:3,children:"Close"})})]})]})})},We=n(637),Pe=n(638),Be=function(e){var t=Object(a.useState)(e.props.modal),n=Object(i.a)(t,2),s=n[0],o=n[1],u=c.a.useContext(k).state,d=Object(a.useState)(""),j=Object(i.a)(d,2),b=j[0],f=j[1],p=Object(a.useState)("0"),x=Object(i.a)(p,2),O=x[0],v=x[1],m=Object(a.useState)(""),y=Object(i.a)(m,2),w=y[0],S=y[1],C=Object(a.useState)(!1),T=Object(i.a)(C,2),D=T[0],F=T[1],R=Object(a.useState)(!0),N=Object(i.a)(R,2),L=N[0],P=N[1],B=Object(z.a)(),M=function(){$(0).then((function(e){return v(e)})).catch((function(){return B({title:"Error",status:"error",duration:3e3,position:"bottom-left",description:"Error getting fee, check your network connection and try again"})}))};Object(a.useEffect)((function(){o(e.props.modal),M()}),[e.props.modal]);var _=function(){var e=Object(E.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z({to:w,fee:O,txnId:"",amount:b},u.key),o(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=parseFloat(u.balance),n=t-parseFloat(O),f(n.toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(h.a,{closeOnOverlayClick:!1,isCentered:!0,isOpen:s,onClose:function(){o(!1),e.props.closeModal()},children:[Object(r.jsx)(h.h,{}),Object(r.jsxs)(h.d,{children:[Object(r.jsx)(h.g,{children:"Send AR"}),Object(r.jsx)(h.c,{}),Object(r.jsx)(h.b,{children:Object(r.jsxs)(l.b,{spacing:2,children:[Object(r.jsxs)(l.b,{children:[Object(r.jsx)(W.a,{children:"From:"}),Object(r.jsx)(W.a,{fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:u.address})]}),!D&&Object(r.jsx)(a.Fragment,{children:Object(r.jsxs)(l.b,{spacing:2,children:[Object(r.jsxs)(Oe.a,{isInvalid:w===u.address,children:[Object(r.jsx)(I.a,{placeholder:"Send to Arweave wallet address",value:w,onChange:function(e){return S(e.target.value)},onBlur:M,isInvalid:w===u.address}),Object(r.jsx)(he.a,{children:"Recipient address cannot be the same as the sending address"})]}),Object(r.jsxs)(Oe.a,{isInvalid:!L,children:[Object(r.jsxs)(We.a,{children:[Object(r.jsx)(I.a,{placeholder:"Amount",value:b,onChange:function(e){return f(e.target.value)},onBlur:function(){P(""===b||parseFloat((parseFloat(u.balance)-parseFloat(O)-parseFloat(b)).toFixed(12))>=0)},isInvalid:!L}),Object(r.jsx)(Pe.a,{children:"AR"})]}),Object(r.jsx)(he.a,{children:"Amount cannot be greater than wallet balance"})]}),Object(r.jsx)(g.a,{border:"none",onClick:q,children:"Use Wallet Balance"}),Object(r.jsxs)(W.a,{children:["Fee: ",O," AR"]}),Object(r.jsxs)(W.a,{children:["Total (including fee): ",(parseFloat(O)+parseFloat(b||"0")).toLocaleString("en-US",{style:"decimal",minimumFractionDigits:"0"!==O?O.split(".")[1].length:1})," AR"]})]})}),D&&Object(r.jsx)(a.Fragment,{children:Object(r.jsxs)(l.b,{spacing:2,children:[Object(r.jsxs)(l.b,{children:[Object(r.jsx)(W.a,{children:"To:"}),Object(r.jsx)(W.a,{fontSize:14,children:w})]}),Object(r.jsxs)(l.b,{isInline:!0,children:[Object(r.jsxs)(l.b,{children:[Object(r.jsx)(W.a,{children:"Sending"}),Object(r.jsxs)(W.a,{children:[b," AR"]})]}),Object(r.jsxs)(l.b,{children:[Object(r.jsx)(W.a,{children:"Fee"}),Object(r.jsxs)(W.a,{children:[O," AR"]})]})]}),Object(r.jsxs)(l.b,{children:[Object(r.jsx)(W.a,{children:"Total"}),Object(r.jsxs)(W.a,{children:[(parseFloat(O)+parseFloat(b||"0")).toLocaleString("en-US",{style:"decimal",minimumFractionDigits:"0"!==O?O.split(".")[1].length:1})," AR"]})]}),Object(r.jsxs)(l.b,{children:[Object(r.jsx)(W.a,{children:"Balance after transaction"}),Object(r.jsxs)(W.a,{children:[(parseFloat(u.balance)-parseFloat(O)-parseFloat(b)).toString()," AR"]})]})]})})]})}),Object(r.jsx)(h.f,{children:D?Object(r.jsx)(g.a,{bg:"#333",color:"white",w:"100%",onClick:function(){_(),o(!1),e.props.closeModal()},children:"Confirm and Send AR"}):Object(r.jsx)(g.a,{bg:"#333",color:"white",w:"100%",isDisabled:!L||""===w,onClick:function(){return F(!0)},children:"Next"})})]})]})},Me=function(e){var t=e.close,n=c.a.useContext(k),a=n.state,s=n.dispatch,o=c.a.useState(""),d=Object(i.a)(o,2),b=d[0],f=d[1],p=c.a.useState(!1),x=Object(i.a)(p,2),O=x[0],h=x[1],v=c.a.useState(!0),m=Object(i.a)(v,2),y=m[0],w=m[1],S=Object(z.a)(),C=function(){var e=Object(E.a)(A.a.mark((function e(){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),n=Object(be.a)(a.tokens),!a.tokenAddresses||a.tokenAddresses.find((function(e){return e===b}))){e.next=24;break}return e.prev=3,e.next=6,Q(b);case 6:r=e.sent,n.push(r),s({type:"UPDATE_TOKENS",payload:{tokens:n}}),f(""),h(!1),t(),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("error adding token"),console.log(e.t0),S({title:"Error loading token",status:"error",duration:3e3,position:"bottom",description:"Please check contract ID and try again"}),f(""),h(!1),t();case 22:e.next=25;break;case 24:S({title:"Token already in list",status:"error",duration:3e3,position:"bottom",description:"Please check contract ID and try again"});case 25:f(""),h(!1),t();case 28:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(l.b,{children:[Object(r.jsx)(u.a,{size:"sm",children:"Add Custom Token"}),Object(r.jsxs)(Oe.a,{isInvalid:!y,children:[Object(r.jsxs)(l.b,{isInline:!0,children:[Object(r.jsx)(I.a,{placeholder:"Contract ID",onChange:function(e){f(e.target.value)},onBlur:function(){return console.log(a.tokens),void(a.tokens.find((function(e){return e&&e.hasOwnProperty("contract")&&e.contract===b}))?w(!1):w(!0))}}),Object(r.jsx)(g.a,{isDisabled:O||!y||""===b,onClick:function(){return C()},children:"Add Token"}),O&&Object(r.jsx)(j.a,{})]}),Object(r.jsx)(he.a,{children:"Token already loaded"})]})]})},_e=function(){var e=c.a.useContext(k),t=e.state,n=e.dispatch,a=c.a.useState(!1),s=Object(i.a)(a,2),o=s[0],d=s[1],x=c.a.useState(""),O=Object(i.a)(x,2),h=O[0],v=O[1],m=c.a.useState(0),y=Object(i.a)(m,2),w=y[0],S=y[1],T=c.a.useState(""),D=Object(i.a)(T,2),F=D[0],R=D[1],N=c.a.useState(!1),L=Object(i.a)(N,2),P=L[0],B=L[1],M=c.a.useState(!1),_=Object(i.a)(M,2),q=_[0],U=_[1],V=Object(z.a)(),H=c.a.useState(!1),J=Object(i.a)(H,2),G=J[0],K=J[1],Y=c.a.useState({}),X=Object(i.a)(Y,2),Z=X[0],te=X[1],ne=c.a.useState(t.tokens),ae=Object(i.a)(ne,2),ce=ae[0],se=ae[1],oe=c.a.useState("balances"),ie=Object(i.a)(oe,2),le=ie[0],ue=ie[1];c.a.useEffect((function(){$(new Blob([Math.random().toString().slice(-4)]).size).then((function(e){return R(e)}))}),[]),c.a.useEffect((function(){if(t.address&&t.tokens)switch(le){case"all":se(t.tokens.sort((function(e,t){if(!t.contractState&&!e.contractState)return 0;var n=e.ticker.toUpperCase(),r=t.ticker.toUpperCase();return n>r?1:r>n?-1:0})));break;case"balances":se(t.tokens.filter((function(e){return e&&e.contractState&&e.contractState.balances[t.address]>0})));break;case"distribution":se(t.tokens.sort((function(e,t){if(!t.contractState&&!e.contractState)return 0;var n=Object.keys(e.contractState.balances).length,r=Object.keys(t.contractState.balances).length;return n<r?1:r<n?-1:0})));break;default:se(t.tokens)}}),[t.tokens,le]),c.a.useEffect((function(){function e(){return r.apply(this,arguments)}function r(){return(r=Object(xe.a)(A.a.mark((function e(){var n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tokenAddresses){e.next=8;break}n=A.a.mark((function e(n){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tokens.find((function(e){return e.contract===t.tokenAddresses[n]}))){e.next=13;break}return e.prev=1,e.next=4,Object(pe.a)(Q(t.tokenAddresses[n]));case 4:return r=e.sent,e.next=7,r;case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error loading token"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),r=0;case 3:if(!(r<(null===(a=t.tokenAddresses)||void 0===a?void 0:a.length))){e.next=8;break}return e.delegateYield(n(r),"t0",5);case 5:r++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){var r=Object(E.a)(A.a.mark((function r(){var a,c,s,o,i,l,u,d;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=[],U(!0),c=!0,s=!1,r.prev=4,i=Object(fe.a)(e());case 6:return r.next=8,i.next();case 8:return l=r.sent,c=l.done,r.next=12,l.value;case 12:if(u=r.sent,c){r.next=20;break}d=u,console.log(d),a.push(d);case 17:c=!0,r.next=6;break;case 20:r.next=26;break;case 22:r.prev=22,r.t0=r.catch(4),s=!0,o=r.t0;case 26:if(r.prev=26,r.prev=27,c||null==i.return){r.next=31;break}return r.next=31,i.return();case 31:if(r.prev=31,!s){r.next=34;break}throw o;case 34:return r.finish(31);case 35:return r.finish(26);case 36:U(!1),n({type:"UPDATE_TOKENS",payload:{tokens:a}}),Object(f.b)("wallets",JSON.stringify(t));case 39:case"end":return r.stop()}}),r,null,[[4,22,26,36],[27,,31,35]])})));return function(){return r.apply(this,arguments)}})()()}),[t.tokenAddresses]),c.a.useEffect((function(){(function(){var e=Object(E.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:r=e.sent,n({type:"SET_TOKEN_ADDRESSES",payload:{tokenAddresses:r}}),console.log(t.tokenAddresses);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var de=function(){var e=Object(E.a)(A.a.mark((function e(n,r){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,ee(n.contract,w,h,t.key);case 3:a=e.sent,B(!1),r(),V({title:"Transaction Status - ".concat(a),status:"info",duration:3e3,position:"bottom"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsxs)(b.a,{textAlign:"left",children:[Object(r.jsxs)(W.a,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:["Address: ",t.address]}),Object(r.jsxs)(ve.a,{columns:3,my:2,alignItems:"center",children:[Object(r.jsx)(W.a,{children:"AR"}),Object(r.jsx)(W.a,{children:parseFloat(t.balance).toLocaleString(void 0,{maximumFractionDigits:6})}),Object(r.jsx)(g.a,{isDisabled:!t.key,onClick:function(){return d(!0)},children:"Send"})]}),Object(r.jsx)(me.a,{my:4}),Object(r.jsx)(u.a,{align:"center",size:"sm",children:"Profit Sharing Tokens"}),Object(r.jsxs)(ge.a,{placeholder:"Filtering options",value:le,onChange:function(e){return ue(e.target.value)},children:[Object(r.jsx)("option",{value:"all",children:"All tokens"}),Object(r.jsx)("option",{value:"balances",children:"Tokens with balances"}),Object(r.jsx)("option",{value:"distribution",children:"Number of active wallets"})]}),Object(r.jsxs)(ve.a,{columns:4,children:[Object(r.jsx)(W.a,{fontWeight:"bold",minWidth:"150px",children:"Ticker"}),Object(r.jsx)(W.a,{fontWeight:"bold",children:"Balance"})]}),q&&Object(r.jsx)(ye.a,{h:"200px",children:Object(r.jsxs)(b.a,{align:"center",children:[Object(r.jsx)(j.a,{pb:"10px"}),Object(r.jsx)(W.a,{children:"Loading tokens..."})]})}),ce.map((function(e){if(e&&e.ticker)return Object(r.jsxs)(ve.a,{borderY:"1px",borderColor:"lightgray",columns:4,my:2,py:1,alignItems:"center",children:[Object(r.jsx)(W.a,{minWidth:"150px",onClick:function(){te(Object(C.a)(Object(C.a)({},e.contractState),{},{contractID:e.contract})),K(!0)},children:e.ticker}),Object(r.jsx)(W.a,{minWidth:"120px",onClick:function(){te(Object(C.a)(Object(C.a)({},e.contractState),{},{contractID:e.contract})),K(!0)},children:e.contractState.balances[t.address]}),Object(r.jsx)(ke.a,{closeOnBlur:!1,children:function(n){var a=n.onClose;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ke.g,{children:Object(r.jsx)(g.a,{justifySelf:"end",children:"Send"})}),Object(r.jsxs)(ke.e,{zIndex:4,children:[Object(r.jsx)(ke.b,{}),Object(r.jsx)(ke.f,{children:"Send Tokens"}),Object(r.jsx)(ke.d,{}),Object(r.jsx)(ke.c,{children:Object(r.jsx)(l.b,{align:"center",children:P?Object(r.jsxs)(b.a,{children:[Object(r.jsx)(j.a,{}),Object(r.jsx)(W.a,{children:"Submitting Transaction"})]}):Object(r.jsxs)(b.a,{children:[Object(r.jsx)(I.a,{my:2,placeholder:"Amount",onChange:function(e){S(parseFloat(e.target.value))}}),Object(r.jsx)(I.a,{placeholder:"Address",onChange:function(e){v(e.target.value)}}),Object(r.jsxs)(W.a,{textAlign:"center",children:["Fee: ",F]}),Object(r.jsx)(g.a,{isDisabled:!t.key,w:"90%",onClick:function(){de(e,a)},children:"Submit Transaction"})]})})})]})]})}}),Object(r.jsx)(we.a,{justifySelf:"end",as:p.b,onClick:function(){te(Object(C.a)(Object(C.a)({},e.contractState),{},{contractID:e.contract})),K(!0)}})]},e.contract+"grid")})),Object(r.jsx)(Be,{props:{modal:o,closeModal:function(){return d(!1)}}}),Object(r.jsx)(ke.a,{placement:"top-end",children:function(e){var t=e.onClose;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ke.g,{children:Object(r.jsx)(g.a,{position:"fixed",bottom:"50px",left:"20px",children:"Add Custom Token"})}),Object(r.jsxs)(ke.e,{children:[Object(r.jsx)(ke.d,{}),Object(r.jsx)(ke.c,{children:Object(r.jsx)(Me,{close:t})})]})]})}}),Object(r.jsx)(Le,{isOpen:G,close:function(){return K(!1)},contractState:Z})]})},qe=n(146),Ue=function(e){var t=e.tags,n=e.clickHandler,a=c.a.useState(""),s=Object(i.a)(a,2),o=s[0],d=s[1],j=c.a.useState(""),b=Object(i.a)(j,2),f=b[0],p=b[1];return Object(r.jsxs)(l.b,{children:[Object(r.jsx)(u.a,{size:"sm",children:"Transacion Tags"}),t.map((function(e){return Object(r.jsxs)(ve.a,{columns:2,fontSize:12,children:[Object(r.jsxs)(W.a,{children:["Name: ",e.name]}),Object(r.jsxs)(W.a,{children:["Value: ",e.value]})]},e.name+e.value)})),Object(r.jsx)(I.a,{placeholder:"Name",value:o,onChange:function(e){return d(e.target.value)}}),Object(r.jsx)(I.a,{placeholder:"Value",value:f,onChange:function(e){return p(e.target.value)}}),Object(r.jsx)(g.a,{isDisabled:""===o||""===f,onClick:function(){n(o,f),d(""),p("")},children:"Add Tag"})]})},Ve=function(e){var t=e.isOpen,n=e.close,a=c.a.useContext(k),s=a.state,o=a.dispatch,u=Object(z.a)(),d=c.a.useState(null),f=Object(i.a)(d,2),p=f[0],x=f[1],O=c.a.useState([]),v=Object(i.a)(O,2),m=v[0],y=v[1],w=c.a.useState("0"),S=Object(i.a)(w,2),T=S[0],I=S[1],D=c.a.useState(!1),F=Object(i.a)(D,2),R=F[0],N=F[1];c.a.useEffect((function(){s.picture&&fetch(s.picture).then((function(e){return e.blob()})).then((function(e){B([e]),o({type:"SET_PICTURE",payload:{picture:""}})}))}),[s.picture]);var L=function(){x(null),y([]),n()},P=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,te(p,s.key,m);case 3:(t=e.sent).startsWith("Transaction")?u({title:"Success",status:"success",duration:3e3,position:"bottom",description:"Your file has been submitted to the blockchain"}):u({title:"Error submitting transaction",status:"error",duration:3e3,position:"bottom",description:t}),setTimeout((function(){N(!1),L()}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(E.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FileReader).onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=Object(E.a)(A.a.mark((function e(n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.target){e.next=9;break}return r=t[0],a=[{name:"App-Name",value:"ArMob 2.0"},{name:"Content-Type",value:t[0].type}],e.next=5,$(t[0].size);case 5:c=e.sent,I(c),x(r),y(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();try{n.readAsText(t[0])}catch(r){console.log("Unable to process file",r),u({title:"Error processing file",status:"error",duration:3e3,position:"bottom",description:"Please try again"})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(Se.a,{isOpen:t,placement:"right",onClose:n,size:"full",children:[Object(r.jsx)(h.h,{}),Object(r.jsxs)(Se.b,{children:[Object(r.jsx)(h.c,{onClick:L}),Object(r.jsx)(h.g,{children:"Upload file to Arweave"}),Object(r.jsxs)(h.b,{children:[!p&&Object(r.jsx)(b.a,{w:"100%",borderStyle:"dashed",borderWidth:"2px",children:Object(r.jsx)(qe.a,{onDrop:B,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(r.jsx)("section",{children:Object(r.jsxs)("div",Object(C.a)(Object(C.a)({},t()),{},{children:[Object(r.jsx)("input",Object(C.a)({},n())),Object(r.jsx)(b.a,{flexDirection:"row",padding:3,children:Object(r.jsx)(W.a,{fontSize:14,textAlign:"center",children:"Drop a file or click to select from system file picker"})})]}))})}})}),p&&!R&&Object(r.jsxs)(l.b,{children:[Object(r.jsxs)(W.a,{children:["Fee: ",T," AR"]}),Object(r.jsx)(Ue,{tags:m,clickHandler:function(e,t){if(void 0!==m){var n=[].concat(Object(be.a)(m),[{name:e,value:t}]);y(n)}else y([{name:e,value:t}])}})]}),p&&R&&Object(r.jsx)(j.a,{position:"absolute",top:"50%",left:"50%"})]}),Object(r.jsxs)(h.f,{mb:{base:"25%",sm:"25%",md:"25%",lg:0,xl:0},children:[Object(r.jsx)(g.a,{variant:"outline",onClick:L,mr:3,children:"Cancel"}),Object(r.jsx)(g.a,{color:"blue",isDisabled:!p,onClick:P,children:"Upload File"})]})]})]})},He=function(){var e=c.a.useContext(k).state,t=c.a.useState(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],o=c.a.useState([]),d=Object(i.a)(o,2),f=d[0],x=d[1],O=c.a.useState(""),h=Object(i.a)(O,2),v=h[0],y=h[1],w=c.a.useState(""),S=Object(i.a)(w,2),C=S[0],T=S[1],D=c.a.useState("from"),F=Object(i.a)(D,2),R=F[0],z=F[1];c.a.useEffect((function(){function t(){return(t=Object(E.a)(A.a.mark((function t(){var n,r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(!0),t.t0=R,t.next="from"===t.t0?4:"to"===t.t0?9:14;break;case 4:return t.next=6,X({address:e.address});case 6:return n=t.sent,x(n),t.abrupt("break",18);case 9:return t.next=11,X({to:e.address});case 11:return r=t.sent,x(r),t.abrupt("break",18);case 14:return t.next=16,X({address:e.address});case 16:a=t.sent,x(a);case 18:s(!1);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}""!==e.address?function(){t.apply(this,arguments)}():x([])}),[e.address,R]);var N=function(){var t=Object(E.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,X({address:e.address,name:v,value:C});case 3:n=t.sent,x(n),s(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(E.a)(A.a.mark((function t(){var n,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(!0),n=f[f.length-1].cursor,"from"!==R){t.next=8;break}return t.next=5,X({address:e.address,cursor:n});case 5:r=t.sent,t.next=11;break;case 8:return t.next=10,X({to:e.address,cursor:n});case 10:r=t.sent;case 11:x(r),s(!1);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)(b.a,{h:"100%",children:[Object(r.jsx)(P.a,{onChange:function(e){return z(e.toString())},value:R,defaultValue:"from",children:Object(r.jsxs)(l.b,{direction:"row",spacing:4,children:[Object(r.jsx)(B.a,{defaultChecked:!0,value:"from",children:"From Wallet"}),Object(r.jsx)(B.a,{value:"to",children:"To Wallet"})]})}),a?Object(r.jsx)(j.a,{position:"fixed",bottom:"50%",right:"50%"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L.a,{allowToggle:!0,allowMultiple:!0,w:"100%",children:f.length>0?f.map((function(t){return function(e,t){var n=e.node.quantity.ar,a="AR";if(0===parseFloat(e.node.quantity.ar)){var s=e.node.tags.filter((function(e){return"Input"===e.name}));if(s.length>0){var o=JSON.parse(s[0].value);o.hasOwnProperty("qty")&&(n=o.qty);var i=e.node.tags.filter((function(e){return"Contract"===e.name}))[0].value,l=t.filter((function(e){return e.contract===i}));a=l.length>0?l[0].ticker:"of some PST"}}return Object(r.jsxs)(L.d,{textAlign:"left",children:[Object(r.jsxs)(L.b,{bg:"white",border:"1px",borderColor:"grey",children:[Object(r.jsxs)(W.a,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:["ID: ",e.node.id]},e.node.id+"display"),Object(r.jsx)(L.c,{})]},e.node.id+"button"),Object(r.jsxs)(L.e,{border:"1px",children:[Object(r.jsx)(u.a,{size:"xs",fontSize:"12px",children:"Metadata"}),Object(r.jsxs)(ve.a,{columns:2,children:[Object(r.jsx)(W.a,{fontSize:10,children:"Transaction ID: "}),Object(r.jsx)(W.a,{cursor:"pointer",onClick:function(){return navigator.clipboard.writeText(e.node.id)},fontSize:10,children:e.node.id}),Object(r.jsx)(W.a,{fontSize:10,children:"Fee: "}),Object(r.jsxs)(W.a,{fontSize:10,children:[e.node.fee.ar," AR"]}),e.node.recipient&&Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(W.a,{fontSize:10,children:"Recipient: "}),Object(r.jsx)(W.a,{cursor:"pointer",onClick:function(){return navigator.clipboard.writeText(e.node.recipient)},fontSize:10,children:e.node.recipient})]}),e.node.owner&&Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(W.a,{fontSize:10,children:"From: "}),Object(r.jsx)(W.a,{cursor:"pointer",onClick:function(){return navigator.clipboard.writeText(e.node.owner.address)},fontSize:10,children:e.node.owner.address}),Object(r.jsx)(W.a,{fontSize:10,children:"Amount: "}),Object(r.jsxs)(W.a,{fontSize:10,children:[n," ",a]})]})]}),e.node.tags.length>0&&Object(r.jsx)(u.a,{size:"xs",fontSize:"12px",children:"Transaction Tags"}),e.node.tags.map((function(t){return Object(r.jsxs)(ve.a,{columns:2,textAlign:"left",overflow:"auto",children:[Object(r.jsx)(W.a,{fontSize:10,children:t.name},t.toString()),Object(r.jsx)(W.a,{fontSize:10,children:t.value},t.name+t.value)]},e.node.id+t.name)}))]})]},e.node.id)}(t,e.tokens)})):null}),Object(r.jsx)(g.a,{my:2,isDisabled:f.length<10,leftIcon:Object(r.jsx)(p.b,{}),onClick:function(){return M()},children:"Next 10"}),Object(r.jsxs)(ke.a,{children:[Object(r.jsx)(ke.g,{children:Object(r.jsx)(m.a,{position:"fixed",bottom:"6%",left:"5%","aria-label":"search transactions",icon:Object(r.jsx)(p.h,{})})}),Object(r.jsx)(ke.e,{children:Object(r.jsxs)(l.b,{children:[Object(r.jsx)(I.a,{placeholder:"Name",value:v,onChange:function(e){return y(e.target.value)}}),Object(r.jsx)(I.a,{placeholder:"Value",value:C,onChange:function(e){return T(e.target.value)}}),Object(r.jsx)(g.a,{isDisabled:""===v||""===C,onClick:function(){N(),y(""),T("")},children:"Search by Tag"})]})})]})]})]})},Je=n(640),Ge=n(644),Ke=n(641),Ye=n(204),Qe=function(){var e=Object(z.a)(),t=c.a.useContext(k),n=t.state,a=t.dispatch,s=c.a.useState(!1),o=Object(i.a)(s,2),d=o[0],j=o[1],x=c.a.useState(""),O=Object(i.a)(x,2),h=O[0],v=O[1],m=c.a.useState(""),y=Object(i.a)(m,2),w=y[0],S=y[1],T=Object(Je.a)(w).onCopy,D=function(){var t=Object(E.a)(A.a.mark((function t(r){var c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=new FileReader).onabort=function(){return console.log("file reading was aborted")},c.onerror=function(){return console.log("file reading has failed")},c.onload=function(){var t=Object(E.a)(A.a.mark((function t(c){var s,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!0),"application/json"!==r[0].type){t.next=19;break}return t.prev=2,s=JSON.parse(c.target.result),t.next=6,Y(s);case 6:return o=t.sent,t.next=9,Object(f.b)("wallet",JSON.stringify(s));case 9:a({type:"ADD_WALLET",payload:Object(C.a)(Object(C.a)({},o),{},{key:s,mnemonic:s.mnemonic})}),Object(f.b)("wallets",JSON.stringify(n)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.log("Invalid json in wallet file"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid JSON in wallet file"});case 17:t.next=21;break;case 19:console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"});case 21:j(!1);case 22:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();try{c.readAsText(r[0])}catch(s){console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"})}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var e=Object(E.a)(A.a.mark((function e(t){var r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(Ye.getKeyFromMnemonic)(t);case 3:return r=e.sent,e.next=6,Y(r);case 6:return c=e.sent,e.next=9,Object(f.b)("wallet",JSON.stringify(r));case 9:j(!1),a({type:"ADD_WALLET",payload:Object(C.a)(Object(C.a)({},c),{},{key:r,mnemonic:t})}),Object(f.b)("wallets",JSON.stringify(n));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(Ye.generateMnemonic)();case 3:t=e.sent,v(t),F(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Y(h);case 3:t=e.sent,a({type:"ADD_WALLET",payload:Object(C.a)(Object(C.a)({},t),{},{key:""})}),Object(f.b)("wallets",JSON.stringify(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([JSON.stringify(Object(C.a)(Object(C.a)({},t.key),{},{mnemonic:t.mnemonic}),null,2)],{type:"application/json"}),e.next=3,URL.createObjectURL(n);case 3:r=e.sent,(a=document.createElement("a")).href=r,a.download="arweave-keyfile-".concat(t.address,".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(E.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:n=e.sent,a({type:"CHANGE_ACTIVE_WALLET",payload:{address:n.address,balance:n.balance}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(l.b,{align:"center",children:[Object(r.jsxs)(Ge.a,{isLoaded:!d,children:[Object(r.jsx)(b.a,{w:"100%",borderStyle:"dashed",borderWidth:"2px",mb:2,children:Object(r.jsx)(qe.a,{onDrop:D,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(r.jsx)("section",{children:Object(r.jsxs)("div",Object(C.a)(Object(C.a)({},t()),{},{children:[Object(r.jsx)("input",Object(C.a)({},n())),Object(r.jsx)(b.a,{flexDirection:"row",padding:3,children:Object(r.jsx)(W.a,{fontSize:14,textAlign:"center",children:"Drop a wallet file or click to load wallet"})})]}))})}})}),Object(r.jsxs)(l.b,{w:"100%",mb:2,children:[Object(r.jsx)(u.a,{size:"xs",children:"Wallet mnemonic"}),Object(r.jsx)(I.a,{w:"93%%",placeholder:"Enter 12 word seedphrase",onChange:function(e){v(e.target.value)}}),Object(r.jsx)(g.a,{isDisabled:""===h,onClick:function(){return F(h)},children:"Load Wallet"})]}),Object(r.jsxs)(l.b,{w:"100%",children:[Object(r.jsx)(u.a,{size:"xs",children:"Track a Wallet"}),Object(r.jsx)(I.a,{w:"93%%",placeholder:"Enter a wallet address",onChange:function(e){v(e.target.value)}}),Object(r.jsx)(g.a,{isDisabled:""===h,onClick:function(){return N()},children:"Track Address"}),Object(r.jsx)(g.a,{mt:2,onClick:R,children:"Generate New Wallet"})]})]}),n.address&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(me.a,{}),Object(r.jsx)(u.a,{size:"sm",children:"Loaded Wallets"})]}),n.wallets.length>0&&n.wallets.map((function(e){return console.log(e),Object(r.jsx)(l.b,{isInline:!0,align:"start",children:Object(r.jsxs)(ke.a,{children:[Object(r.jsx)(ke.g,{children:Object(r.jsx)(W.a,{whiteSpace:"nowrap",overflow:"hidden",maxWidth:"90vw",textOverflow:"ellipsis",cursor:"pointer",children:e.address})}),Object(r.jsxs)(ke.e,{children:[Object(r.jsx)(ke.b,{}),Object(r.jsx)(ke.c,{children:Object(r.jsxs)(l.b,{isInline:!0,justifyContent:"space-around",children:[Object(r.jsxs)(Ke.a,{direction:"column",align:"center",justify:"center",as:"button",onClick:function(){P(e.address)},alignContent:"start",children:[Object(r.jsx)(p.c,{size:16}),Object(r.jsx)(W.a,{children:"Use"})]},e.address+"pseudo2"),Object(r.jsxs)(Ke.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){a({type:"REMOVE_WALLET",payload:{address:e.address}})},children:[Object(r.jsx)(p.i,{size:16}),Object(r.jsx)(W.a,{children:"Remove"})]}),Object(r.jsxs)(Ke.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){return L(e)},children:[Object(r.jsx)(p.e,{size:16}),Object(r.jsx)(W.a,{children:"Download Keyfile"})]}),e.mnemonic&&Object(r.jsxs)(Ke.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){e.mnemonic&&S(e.mnemonic),T()},children:[Object(r.jsx)(p.d,{size:16}),Object(r.jsx)(W.a,{children:"Copy Seedphrase"})]})]})})]})]})})}))]})},Xe=function(e,t){switch(console.log("Current state is:"),console.log(e),console.log("Action requested is:"),console.log(t),t.type){case"LOAD_STATE":return Object(C.a)({},t.payload.state);case"ADD_WALLET":var n,r=null===(n=e.wallets)||void 0===n?void 0:n.filter((function(e){return e.address===t.payload.address})),a=e.wallets?e.wallets:[];return r&&0===r.length&&(null===a||void 0===a||a.push({address:t.payload.address,key:t.payload.key,mnemonic:t.payload.mnemonic})),Object(C.a)(Object(C.a)({},e),{},{key:t.payload.key,balance:t.payload.balance,address:t.payload.address,mnemonic:t.payload.mnemonic,wallets:a});case"UPDATE_TOKENS":return Object(C.a)(Object(C.a)({},e),{},{tokens:t.payload.tokens});case"SET_PICTURE":return Object(C.a)(Object(C.a)({},e),{},{picture:t.payload.picture});case"SET_BLOCK_HEIGHT":return Object(C.a)(Object(C.a)({},e),{},{blockHeight:t.payload.blockHeight});case"SET_TOKEN_ADDRESSES":return Object(C.a)(Object(C.a)({},e),{},{tokenAddresses:t.payload.tokenAddresses});case"CHANGE_ACTIVE_WALLET":var c=e.wallets.find((function(e){return e.address===t.payload.address}));return Object(C.a)(Object(C.a)({},e),{},{address:t.payload.address,key:null===c||void 0===c?void 0:c.key,balance:t.payload.balance,mnemonic:null===c||void 0===c?void 0:c.mnemonic});case"REMOVE_WALLET":var s,o,i=e.wallets.filter((function(e){return e.address!==t.payload.address}));return i.length>0?Object(C.a)(Object(C.a)({},e),{},{wallets:i,address:null===(s=i[0])||void 0===s?void 0:s.address,key:null===(o=i[0])||void 0===o?void 0:o.key}):Object(C.a)(Object(C.a)({},e),{},{wallets:[],address:"",key:"",balance:""});default:return e}};var $e=function(){var e=c.a.useReducer(Xe,y),t=Object(i.a)(e,2),n=t[0],a=t[1],s=c.a.useState(!1),o=Object(i.a)(s,2),x=o[0],O=o[1],h=c.a.useState(!1),v=Object(i.a)(h,2),m=v[0],g=v[1],w=c.a.useState(!0),C=Object(i.a)(w,2),T=C[0],A=C[1],E=function(e){"txn"===e&&O(!1),"camera"===e&&g(!1)};return c.a.useEffect((function(){K().then((function(e){return a({type:"SET_BLOCK_HEIGHT",payload:{blockHeight:e}})}))}),[]),c.a.useEffect((function(){Object(f.a)("wallets").then((function(e){if(e){var t=JSON.parse(e);a({type:"LOAD_STATE",payload:{state:t}})}A(!1)}))}),[]),Object(r.jsxs)(k.Provider,{value:{dispatch:a,state:n},children:[Object(r.jsxs)(l.b,{w:"100%",align:"center",children:[Object(r.jsx)(u.a,{children:"ArMob 2.0"}),Object(r.jsxs)(d.e,{isFitted:!0,align:"center",variant:"enclosed-colored",children:[Object(r.jsxs)(d.d,{w:"90vw",children:[Object(r.jsx)(d.c,{children:Object(r.jsx)(Qe,{})}),Object(r.jsx)(d.c,{children:T?Object(r.jsx)(j.a,{position:"fixed",bottom:"50%",right:"50%"}):""!==n.address&&Object(r.jsx)(b.a,{children:Object(r.jsx)(_e,{})})}),Object(r.jsx)(d.c,{children:""!==n.address&&Object(r.jsx)(He,{})}),Object(r.jsx)(d.c,{children:Object(r.jsx)(le,{})})]}),Object(r.jsxs)(d.b,{position:"fixed",bottom:"0px",left:"0px",w:"100vw",children:[Object(r.jsx)(d.a,{children:"Wallet"}),Object(r.jsx)(d.a,{isDisabled:""===n.address,children:"Tokens"}),Object(r.jsx)(d.a,{isDisabled:""===n.address,children:"Transactions"}),Object(r.jsx)(d.a,{isDisabled:""===n.key,children:"Smartweave"})]})]})]}),n.key&&Object(r.jsxs)(je,{children:[n.key&&Object(r.jsx)(de,{icon:Object(r.jsx)(p.j,{}),label:"Upload File",clickHandler:function(){return O(!0)}},"faupload"),n.key&&Object(r.jsx)(de,{icon:Object(r.jsx)(p.a,{}),label:"Take Picture",clickHandler:function(){return g(!0)}},"facameretro")]}),Object(r.jsx)(Ve,{isOpen:x,close:function(){return E("txn")}}),Object(r.jsx)(S,{isOpen:m,close:function(){return E("camera")},setTxnOpen:function(){return O(!0)}})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,652)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},et=n(647),tt=n(145);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(et.a,{theme:tt.b,children:Object(r.jsx)($e,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ze()}},[[603,1,2]]]);
//# sourceMappingURL=main.4a08f34f.chunk.js.map