(this.webpackJsonparmobv2=this.webpackJsonparmobv2||[]).push([[0],{192:function(e,t){},281:function(e,t){},287:function(e,t){},399:function(e,t){},417:function(e,t){},419:function(e,t){},431:function(e,t){},433:function(e,t){},579:function(e,t){},597:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(66),s=n.n(c),o=n(6),i=n(644),l=n(619),u=n(641),d=n(617),j=n(627),b=n(79),f=n(55),p=n(158),x=n.n(p),O=(n(345),n(77)),h=n(615),v=n(616),m=n(328),g={key:null,balance:"",address:"",tokens:[],tokenAddresses:[],wallets:[]},y=Object(r.createContext)({state:g,dispatch:function(){return null}}),k=n(302),w=n(2),S=function(e){var t=e.isOpen,n=e.close,r=e.setTxnOpen,c=a.a.useState(""),s=Object(o.a)(c,2),l=s[0],u=s[1],d=a.a.useContext(y).dispatch;return Object(w.jsx)(O.a,{closeOnOverlayClick:!0,isOpen:t,onClose:function(){u(""),n("camera")},children:Object(w.jsx)(O.h,{children:Object(w.jsxs)(O.d,{children:[Object(w.jsx)(O.g,{}),Object(w.jsx)(O.c,{}),Object(w.jsx)(O.b,{children:Object(w.jsxs)(i.b,{align:"center",children:[l?Object(w.jsx)(h.a,{src:l}):Object(w.jsx)(x.a,{onTakePhotoAnimationDone:function(e){console.log("takePhoto"),u(e)},imageType:p.IMAGE_TYPES.JPG,idealFacingMode:p.FACING_MODES.ENVIRONMENT,isImageMirror:!1,children:Object(w.jsx)(v.a,{"aria-label":"refresh",icon:Object(w.jsx)(k.a,{})})}),Object(w.jsx)(m.a,{isDisabled:!l,onClick:function(){u(""),d({type:"SET_PICTURE",payload:{picture:l}}),r(),n("camera")},children:"Next"})]})})]})})})},C=n(13),T=n(3),A=n.n(T),E=n(16),I=n(618),D=n(620),F=n(621),R=n(622),z=n(639),N=n(623),L=n(642),W=n(626),P=n(329),M=n(645),B=n(625),_=n(94),q=n.n(_),U=n(148),V=n.n(U),H=n(90),J=n(58),G=function(){return q.a.init({host:"arweave.net",port:443})},K=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return t=e.sent,e.next=5,t.network.getInfo();case 5:return n=e.sent,e.abrupt("return",n.height);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=G(),r="","string"!==typeof t){e.next=6;break}r=t,e.next=9;break;case 6:return e.next=8,n.wallets.jwkToAddress(t);case 8:r=e.sent;case 9:return e.t0=n.ar,e.next=12,n.wallets.getBalance(r);case 12:return e.t1=e.sent,a=e.t0.winstonToAr.call(e.t0,e.t1),e.abrupt("return",{address:r,balance:a});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),e.next=3,Object(J.a)(n,t);case 3:return r=e.sent,e.abrupt("return",{ticker:r.ticker,contract:t,contractState:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a,c,s,o,i,l,u,d,j;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=void 0===n?void 0:n,a=t.name,c=void 0===a?void 0:a,s=t.value,o=void 0===s?void 0:s,i=t.to,l=void 0===i?void 0:i,u=t.cursor,d=void 0===u?void 0:u,j="first: 10 \n    ".concat(r?'owners:["'+r+'"]':"","\n    ").concat(d?'after:"'+d+'"':""," \n    ").concat(c?'tags:{name:"'+c+'",values:["'+o+'"]}':"","\n    ").concat(l?'recipients:  ["'+l+'"]':""),e.abrupt("return",V.a.post("https://arweave.net/graphql",{query:"query {\n                transactions(".concat(j,"\n                 ) {\n                  edges {\n                    cursor\n                    node {\n                      id\n                      recipient\n                      tags {\n                        name\n                        value\n                      }\n                      fee {\n                        winston\n                        ar\n                      }\n                      quantity {\n                        winston\n                        ar\n                      }\n                      owner {\n                        address\n                      }\n                    }\n                  }\n                }\n              }")}).then((function(e){return e.data.data.transactions.edges})).catch((function(e){return console.log(e),[]})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.get("https://arweave.net:443/price/".concat(t));case 2:return n=e.sent,r=q.a.init({host:"arweave.net",port:443}),e.abrupt("return",r.ar.winstonToAr(n.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=q.a.init({host:"arweave.net",port:443}),e.next=4,r.createTransaction({target:t.to,quantity:r.ar.arToWinston(t.amount)},n);case 4:return(a=e.sent).addTag("App-Name","ArMob 2.0"),e.next=8,r.transactions.sign(a,n);case 8:return e.next=10,r.transactions.post(a);case 10:c=e.sent,console.log(c),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("Error sending tranfer - ".concat(e.t0)),e.abrupt("return","Error submitting transaction - ".concat(e.t0));case 18:return e.abrupt("return","Transaction submitted successfully");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a){var c,s,i,l,u,d,j,b,f,p;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=G(),e.next=4,Object(H.interactWriteDryRun)(c,a,t,{target:r,qty:n,function:"transfer"});case 4:if(s=e.sent,console.log("Dry-run result is:",s),"ok"!==s.type){e.next=21;break}return e.next=9,c.createTransaction({target:r,data:Math.random().toString().slice(-4)},a);case 9:for(i=e.sent,l={Contract:t,"App-Name":"SmartWeaveAction","App-Version":"0.3.0",Input:JSON.stringify({function:"transfer",target:r,qty:n})},u=0,d=Object.entries(l);u<d.length;u++)j=Object(o.a)(d[u],2),b=j[0],f=j[1],i.addTag(b,f.toString());return i.addTag("App-Name","ArMob 2.0"),e.next=15,c.transactions.sign(i,a);case 15:return console.log(i.id),e.next=18,c.transactions.post(i);case 18:return p=e.sent,console.log(p.statusText),e.abrupt("return","success!");case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0.toString());case 27:return e.abrupt("return","");case 28:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r){var a,c,s,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=G(),e.next=4,t.arrayBuffer();case 4:return c=e.sent,e.next=7,a.createTransaction({data:c},n);case 7:return s=e.sent,r.forEach((function(e){return s.addTag(e.name,e.value)})),e.next=11,a.transactions.sign(s,n);case 11:return e.next=13,a.transactions.post(s);case 13:o=e.sent,console.log(o),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.log("Error sending tranfer - ".concat(e.t0)),e.abrupt("return","Error submitting transaction - ".concat(e.t0));case 21:return e.abrupt("return","Transaction submitted successfully");case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ne=function(e,t){var n=(t-e)/720;return n>1?"".concat(Math.floor(n)," more days"):n>.041?"".concat(Math.floor(24*n)," more hours"):"less than 1 hour"},re=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n,r,a,c,s,o,i,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",n=!0,r=G(),a=[];case 4:if(!n){e.next=15;break}return c={query:'\n              query {\n                  transactions(\n                      tags: [\n                          { name: "App-Name", values: ["SmartWeaveContract"] }\n                          {\n                              name: "Contract-Src"\n                              values: ["ngMml4jmlxu0umpiQCsHgPX2pb_Yz6YDB8f7G6j-tpI"]\n                          }\n                      ]\n                      after: "'.concat(t,'"\n                      first: 100\n                  ) {\n                      pageInfo {\n                          hasNextPage\n                      }\n                      edges {\n                          cursor\n                          node {\n                              id\n                          }\n                      }\n                  }\n              }            \n          ')},e.next=8,r.api.post("/graphql",c);case 8:for(s=e.sent,o=s.data,i=0,l=o.data.transactions.edges.length;i<l;i++)a.push(o.data.transactions.edges[i].node.id);(n=o.data.transactions.pageInfo.hasNextPage)&&(t=o.data.transactions.edges[o.data.transactions.edges.length-1].cursor),e.next=4;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),r={query:'\n  query {\n    transactions(ids: ["'.concat(t,'"]) {\n        edges {\n            node {\n                id\n              \ttags {\n                  name\n                  value\n                }\n            }\n        }\n    }\n}')},e.next=4,n.api.post("/graphql",r);case 4:return a=e.sent,console.log(a),c=a.data.data.transactions.edges[0].node.tags.filter((function(e){return"Contract-Src"===e.name}))[0].value,console.log(c),e.next=10,n.transactions.getData(c,{decode:!0,string:!0});case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(E.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),e.next=3,Object(J.a)(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a,c){var s,o,i,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in s=G(),console.log("params are"),console.log(r),console.log("types are"),console.log(c),o=Object(C.a)({},r))"integer"===c[i]?o[i]=parseInt(r[i]):"float"===c[i]&&(o[i]=parseFloat(r[i]));return e.next=9,Object(H.interactWriteDryRun)(s,a,n,Object(C.a)(Object(C.a)({},o),{},{function:t}));case 9:return l=e.sent,console.log(l),e.abrupt("return",l.type);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),oe=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a,c,s){var o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in o=G(),console.log("params are"),console.log(r),console.log("types are"),console.log(c),i=Object(C.a)({},r))"integer"===c[l]?i[l]=parseInt(r[l]):"float"===c[l]&&(i[l]=parseFloat(r[l]));if("write"!==s){e.next=13;break}return e.next=10,Object(H.interactWrite)(o,a,n,Object(C.a)(Object(C.a)({},i),{},{function:t}));case 10:u=e.sent,e.next=16;break;case 13:return e.next=15,Object(H.interactRead)(o,a,n,Object(C.a)(Object(C.a)({},i),{},{function:t}));case 15:u=e.sent;case 16:return console.log(u),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s){return e.apply(this,arguments)}}(),ie=n(397),le=(n(398),function(){var e=a.a.useState(""),t=Object(o.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),s=Object(o.a)(c,2),u=s[0],d=s[1],j=a.a.useState([]),b=Object(o.a)(j,2),f=b[0],p=b[1],x=a.a.useState([]),O=Object(o.a)(x,2),h=O[0],v=O[1],g=a.a.useState({}),y=Object(o.a)(g,2),k=y[0],S=y[1],C=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(u);case 2:if(t=e.sent,r(t),!t){e.next=15;break}return r(t),e.next=8,ie.parse(t,{ecmaVersion:"latest",sourceType:"module"});case 8:return"handle"===(n=e.sent).body[0].declaration.id.name&&(a=n.body[0].declaration.body.body.filter((function(e){return"IfStatement"===e.type&&"input"===e.test.left.object.name})),c=T(a),p(c.writeMethods.filter((function(e){return e.name}))),v(c.readMethods.filter((function(e){return e.name}))),console.log(c)),e.next=12,ce(u);case 12:t=e.sent,console.log(t),S(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=[],n=[];return e.forEach((function(e){if("BinaryExpression"===e.test.type&&e.test.left.object&&"input"===e.test.left.object.name)try{var r=e.consequent.body[e.consequent.body.length-1];if("ReturnStatement"===r.type&&"state"===r.argument.properties[0].key.name){var a=e.consequent.body.filter((function(e){return"VariableDeclaration"==e.type&&e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name})).map((function(e){return e.declarations[0].id.name})),c=e.test.right.value;n.push({name:c,params:a,methodType:"write",contractId:u})}else{console.log("found read method");var s=e.consequent.body.filter((function(e){return"VariableDeclaration"===e.type&&(e.declarations[0].init.left&&e.declarations[0].init.left.object&&"input"===e.declarations[0].init.left.object.name||e.declarations[0].init.object&&"input"===e.declarations[0].init.object.name)})).map((function(e){return e.declarations[0].id.name})),o=e.test.right.value;t.push({name:o,params:s,methodType:"read",contractId:u})}}catch(i){console.log(i)}})),{readMethods:t,writeMethods:n}};return Object(w.jsxs)(i.c,{children:[Object(w.jsx)(I.a,{placeholder:"Smartweave Contract ID",value:u,onChange:function(e){return d(e.target.value)}}),Object(w.jsx)(m.a,{onClick:C,children:"Load Contract"}),Object(w.jsx)(l.a,{size:"xs",children:"Contract Source"}),Object(w.jsx)(D.a,{w:"100%",children:Object(w.jsx)(F.a,{overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",isReadOnly:!0,defaultValue:n})}),Object(w.jsx)(l.a,{size:"xs",children:"Contract State"}),Object(w.jsx)(D.a,{w:"100%",overflow:"scroll",height:"200px",fontSize:"xs",align:"start",children:JSON.stringify(k,null,2)}),Object(w.jsx)(l.a,{size:"xs",children:"Write Methods"}),Object(w.jsx)(R.a,{children:f&&f.map((function(e){return Object(w.jsx)(R.b,{children:Object(w.jsx)(ue,{name:e.name,params:e.params,methodType:e.methodType,contractId:u})})}))}),Object(w.jsx)(l.a,{size:"xs",children:"Read Methods"}),Object(w.jsx)(R.a,{children:h&&h.map((function(e){return Object(w.jsx)(R.b,{children:Object(w.jsx)(ue,{name:e.name,params:e.params,methodType:e.methodType,contractId:u})})}))})]})}),ue=function(e){var t=e.name,n=e.params,r=e.methodType,c=e.contractId,s=a.a.useState({}),l=Object(o.a)(s,2),u=l[0],b=l[1],f=a.a.useState({}),p=Object(o.a)(f,2),x=p[0],O=p[1],h=a.a.useContext(y).state,v=Object(z.a)(),g=a.a.useState(),k=Object(o.a)(g,2),S=k[0],T=k[1],R=Object(N.a)(),_=R.isOpen,q=R.onToggle,U=function(){var e=Object(E.a)(A.a.mark((function e(n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t,c,u,h.key,x,r);case 2:a=e.sent,v(a?{title:"Successfully submitted transaction!",status:"success",duration:3e3,position:"bottom"}:{title:"Error submitting transaction",status:"error",duration:3e3,position:"bottom"}),n(),T();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(L.a,{allowToggle:!0,children:Object(w.jsxs)(L.d,{children:[Object(w.jsxs)(L.b,{children:[Object(w.jsx)(W.a,{children:t}),Object(w.jsx)(L.c,{})]}),Object(w.jsxs)(L.e,{children:[n.map((function(e,n){return Object(w.jsxs)(j.a,{children:[Object(w.jsx)(I.a,{placeholder:e,value:u[n],onChange:function(t){var n=Object(C.a)({},u);n[e]=t.target.value,b(n)}},t+e),Object(w.jsxs)(P.a,{name:"param-type",onChange:function(t){var n=Object(C.a)({},x);n[e]=t.toString(),O(n)},value:x[e],direction:"horizontal",children:[Object(w.jsx)(M.a,{value:"string",children:"String"}),Object(w.jsx)(M.a,{value:"integer",children:"Integer"}),Object(w.jsx)(M.a,{value:"float",children:"Float"})]})]})})),"write"===r?Object(w.jsx)(w.Fragment,{children:!_&&!S&&Object(w.jsx)(m.a,{onClick:function(){q(),se(t,c,u,h.key,x).then((function(e){return T(e)}))},children:"Test Contract Method Call"})}):Object(w.jsx)(w.Fragment,{children:_?Object(w.jsx)(m.a,{onClick:function(){q(),T()},children:"Start Over"}):Object(w.jsx)(m.a,{onClick:function(){q(),oe(t,c,u,h.key,x,r).then((function(e){return T(e)}))},children:"Read Contract"})}),Object(w.jsx)(B.a,{in:_,children:"write"===r?Object(w.jsxs)(i.c,{children:[S?Object(w.jsxs)(W.a,{children:["Transaction status is ",S]}):Object(w.jsx)(d.a,{}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(m.a,{onClick:function(){return U(q)},children:"Live dangerously!"}),Object(w.jsx)(m.a,{onClick:function(){q(),T()},children:"Start Over"})]})]}):Object(w.jsxs)(D.a,{children:[Object(w.jsx)(W.a,{children:"Method Result"}),S?Object(w.jsx)(F.a,{isReadOnly:!0,overflow:"scroll",height:"200px",readOnly:!0,fontSize:"xs",defaultValue:JSON.stringify(S,null,2)}):Object(w.jsx)(d.a,{})]})})]})]},t)})},de=function(e){var t=e.icon,n=e.label,r=e.clickHandler,a=e.yPos;return Object(w.jsxs)(i.b,{isInline:!0,position:"fixed",bottom:a,right:"20px",align:"center",children:[Object(w.jsx)(W.a,{fontSize:11,children:n}),Object(w.jsx)(v.a,{"aria-label":"wallet",icon:t,isRound:!0,onClick:Object(E.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r());case 1:case"end":return e.stop()}}),e)})))})]})},je=function(e){var t,n=e.children,r=a.a.useState(!1),c=Object(o.a)(r,2),s=c[0],i=c[1],l=a.a.useRef(null),u=n&&n.filter((function(e){return a.a.isValidElement(e)}));return t=l,a.a.useEffect((function(){function e(e){t.current&&!t.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),Object(w.jsxs)("div",{ref:l,style:{position:"fixed",bottom:"50px",right:"20px"},children:[Object(w.jsx)(v.a,{"aria-label":"open",isRound:!0,icon:s?Object(w.jsx)(f.f,{}):Object(w.jsx)(f.g,{}),onClick:function(e){return i(!s)}}),s&&u.map((function(e,t){if(a.a.isValidElement(e))return a.a.cloneElement(e,Object(C.a)(Object(C.a)({},e.props),{},{yPos:(100+50*t).toString()+"px"}))}))]})},be=n(21),fe=n(306),pe=n(307),xe=n(330),Oe=n(119),he=n(632),ve=n(647),me=n(630),ge=n(635),ye=n(629),ke=n(638),we=n(211),Se=n(646),Ce=n(631),Te=n(325),Ae=function(){var e=Object(E.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Te.a(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a,c,s,o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(n);case 2:return r=e.sent,e.next=5,r.getTradingPosts();case 5:return a=e.sent,e.next=8,r.getConfig(a[0]);case 8:if(!(c=e.sent).hasOwnProperty("publicURL")){e.next=29;break}return e.next=12,fetch("https://".concat(c.publicURL,"/orders"));case 12:return e.next=14,e.sent.json();case 14:return s=e.sent,e.prev=15,o=s.find((function(e){return e.token===t})).orders.filter((function(e){return"Sell"===e.type})).sort((function(e,t){return t.rate-e.rate})),i=o.reduce((function(e,t){return e+t.amnt}),0),l=o.reduce((function(e,t){return e+t.amnt/i*t.rate}),0),u=o.map((function(e){return{rate:1/e.rate,amount:e.amnt}})),e.abrupt("return",{volume:i,averageRate:1/l,rates:u});case 23:return e.prev=23,e.t0=e.catch(15),console.log(e.t0),e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 27:e.next=30;break;case 29:return e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 30:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a,c,s,o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(n);case 2:return r=e.sent,e.next=5,r.getTradingPosts();case 5:return a=e.sent,e.next=8,r.getConfig(a[0]);case 8:if(!(c=e.sent).hasOwnProperty("publicURL")){e.next=29;break}return e.next=12,fetch("https://".concat(c.publicURL,"/orders"));case 12:return e.next=14,e.sent.json();case 14:return s=e.sent,e.prev=15,o=s.find((function(e){return e.token===t})).orders.filter((function(e){return"Buy"===e.type})).sort((function(e,t){return e.rate-t.rate})),i=o.reduce((function(e,t){return e+t.amnt}),0),l=o.reduce((function(e,t){return e+t.amnt/i*t.rate}),0),u=o.map((function(e){return{rate:e.rate,amount:e.amnt}})),e.abrupt("return",{volume:i,averageRate:l,rates:u});case 23:return e.prev=23,e.t0=e.catch(15),console.log(e.t0),e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 27:e.next=30;break;case 29:return e.abrupt("return",{volume:0,averageRate:0,rates:[]});case 30:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(E.a)(A.a.mark((function e(t,n,r,a){var c,s,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(r);case 2:return c=e.sent,e.next=5,c.getTradingPosts();case 5:return s=e.sent,e.next=8,c.createOrder(t,n,a,s[0]);case 8:return o=e.sent,console.log(o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(E.a)(A.a.mark((function e(t,n){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(n);case 2:return r=e.sent,e.next=5,r.sendOrder(t);case 5:return a=e.sent,console.log(a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(e){var t=e.contractID,n=e.ticker,r=e.balance,c=a.a.useState(!1),s=Object(o.a)(c,2),u=s[0],b=s[1],f=a.a.useState({}),p=Object(o.a)(f,2),x=p[0],O=p[1],h=a.a.useState(""),v=Object(o.a)(h,2),g=v[0],k=v[1],S=a.a.useState(0),C=Object(o.a)(S,2),T=C[0],D=C[1],F=a.a.useState(0),R=Object(o.a)(F,2),z=R[0],N=R[1],L=a.a.useContext(y).state,P=a.a.useState(""),M=Object(o.a)(P,2),B=M[0],_=M[1],q=a.a.useState(0),U=Object(o.a)(q,2),V=U[0],H=U[1],J=a.a.useState({}),G=Object(o.a)(J,2),K=G[0],Y=G[1];a.a.useEffect((function(){b(!0);var e=!0;return function(){var n=Object(E.a)(A.a.mark((function n(){var r,a,c;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee(t,L.key);case 2:return r=n.sent,n.next=5,Ie(t,L.key);case 5:if(a=n.sent,!e){n.next=9;break}return n.next=9,O({buy:r,sell:a});case 9:if(!e){n.next=15;break}return b(!1),n.next=13,De("Buy",Math.floor(parseFloat(L.balance)),L.key,t);case 13:c=n.sent,e&&N(c.ar);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!1}}),[]);var Q=function(){var e=Object(E.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==T){e.next=3;break}return e.next=3,X();case 3:return e.next=5,De("Buy",T,L.key,t);case 5:return n=e.sent,e.next=8,Y(n);case 8:k(""),console.log(K);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(g)){e.next=6;break}return D(0),e.abrupt("return");case 6:n=0,r=0;case 8:if(!(r<x.buy.rates.length)){e.next=19;break}if(!(x.buy.rates[r].amount<t)){e.next=14;break}n+=x.buy.rates[r].amount*x.buy.rates[r].rate,t-=x.buy.rates[r].amount,e.next=16;break;case 14:return n+=x.buy.rates[r].rate*t,e.abrupt("break",19);case 16:r++,e.next=8;break;case 19:D(n);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(K.txs,L.key);case 2:t=e.sent,Y({}),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(E.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==V){e.next=3;break}return e.next=3,ee();case 3:return e.next=5,De("Sell",parseInt(B),L.key,t);case 5:return n=e.sent,e.next=8,Y(n);case 8:console.log(K),_("");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=parseInt(B)){e.next=4;break}return H(0),e.abrupt("return");case 4:n=0,x.sell.rates.every((function(e){return t>e.amount?(n+=e.amount*e.rate,t-=e.amount,!0):(n+=t*e.rate,!1)})),H(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(i.c,{align:"center",children:[Object(w.jsx)(l.a,{size:"sm",children:"Verto Exchange"}),u&&Object(w.jsx)(ye.a,{h:"100px",children:Object(w.jsx)(d.a,{})}),!u&&Object(w.jsxs)(j.a,{children:[Object(w.jsxs)(l.a,{size:"sm",children:["Buy ",n]}),Object(w.jsx)(me.a,{}),x.buy&&x.buy.volume>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(W.a,{children:["Average Buy Price: ",x.buy.averageRate.toLocaleString(void 0,{maximumFractionDigits:6})," ",n,"/AR"]}),Object(w.jsxs)(W.a,{children:["Total Available ",n,": ",x.buy.volume]}),Object(w.jsxs)(W.a,{children:["Total AR you can spend: ",z]}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(I.a,{placeholder:"Enter amount",w:"50%",value:g,onChange:function(e){return k(e.target.value)},onBlur:X}),Object(w.jsxs)(W.a,{children:["Cost in AR: ",T]}),Object(w.jsx)(ke.a,{closeOnBlur:!1,children:function(e){var t=e.onClose;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ke.g,{children:Object(w.jsx)(m.a,{disabled:!g||parseInt(g)<=0||NaN===parseInt(g),onClick:Q,children:"Buy"})}),Object(w.jsxs)(ke.e,{children:[Object(w.jsx)(ke.b,{}),Object(w.jsx)(ke.d,{}),Object(w.jsx)(ke.f,{children:"Order Confirmation"}),Object(w.jsx)(ke.c,{children:Object(w.jsxs)(i.c,{children:[Object(w.jsxs)(W.a,{children:["Transaction Cost: ",K.ar]}),Object(w.jsxs)(W.a,{children:[n," received: ",g]}),Object(w.jsxs)(W.a,{children:["Wallet balance after transaction: ",parseFloat(L.balance)-K.ar]}),Object(w.jsx)(m.a,{onClick:function(){$(),t()},children:"Submit Order"})]})})]})]})}})]})]}):Object(w.jsx)(W.a,{children:"No open buy orders"}),Object(w.jsxs)(l.a,{size:"sm",children:["Sell ",n]}),Object(w.jsx)(me.a,{}),x.sell&&x.sell.volume>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(W.a,{children:["Average Sell Price: ",x.sell.averageRate.toLocaleString(void 0,{maximumFractionDigits:6})," ",n,"/AR"]}),Object(w.jsxs)(W.a,{children:["Total of open orders: ",x.sell.volume," ",n]}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(I.a,{placeholder:"Enter amount",value:B,invalid:parseInt(B)>parseInt(r),onChange:function(e){return _(e.target.value)},onBlur:ee}),Object(w.jsxs)(W.a,{children:["Amount in AR: ",V]}),Object(w.jsx)(ke.a,{closeOnBlur:!1,children:function(e){var t=e.onClose;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ke.g,{children:Object(w.jsx)(m.a,{disabled:parseInt(B)>parseInt(r)||parseInt(B)<=0,onClick:Z,children:"Sell"})}),Object(w.jsxs)(ke.e,{children:[Object(w.jsx)(ke.b,{}),Object(w.jsx)(ke.d,{}),Object(w.jsx)(ke.f,{children:"Order Confirmation"}),Object(w.jsx)(ke.c,{children:Object(w.jsxs)(i.c,{children:[Object(w.jsxs)(W.a,{children:["Transaction Cost: ",K.pst," ",n]}),Object(w.jsxs)(W.a,{children:["AR received: ",V]}),Object(w.jsxs)(W.a,{children:["Wallet balance after transaction: ",parseFloat(L.balance)+V]}),Object(w.jsx)(m.a,{onClick:function(){$(),t()},children:"Submit Order"})]})})]})]})}})]})]}):Object(w.jsx)(W.a,{children:"No open sell orders"})]})]})},ze=function(e){var t=a.a.useState(0),n=Object(o.a)(t,2),r=n[0],c=n[1],s=a.a.useState(!1),l=Object(o.a)(s,2),u=l[0],d=l[1];return a.a.useEffect((function(){for(var t=!0,n=0,r=0,a=Object.entries(e.balances);r<a.length;r++){var s=Object(o.a)(a[r],2);s[0];n+=s[1]}return t&&c(n),function(){t=!1}}),[e]),Object(w.jsxs)(j.a,{w:"100%",children:[Object(w.jsx)(j.a,{bg:"white",border:"1px",borderColor:"grey",onClick:function(){return d(!u)},children:Object(w.jsxs)(W.a,{children:["All balances - ",r," in circulation"]})}),Object(w.jsx)(B.a,{in:u,children:Object.entries(e.balances).map((function(e){return Object(w.jsxs)(i.a,{w:"100%",children:[Object(w.jsxs)(W.a,{maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:[e[0],":"]},e[0]),Object(w.jsx)(W.a,{children:e[1].toString()},e[0]+e[0])]},e[0]+1)}))})]})},Ne=function(e){var t=e.vault,n=a.a.useState(0),r=Object(o.a)(n,2),c=r[0],s=r[1],l=Object(N.a)(),u=l.isOpen,d=l.onToggle;return a.a.useEffect((function(){for(var e=!0,n=0,r=0,a=Object.entries(t);r<a.length;r++){var c=Object(o.a)(a[r],2),i=(c[0],c[1]);i[0]&&(n+=i[0].balance)}return e&&s(n),function(){e=!1}}),[t]),Object(w.jsxs)(j.a,{w:"100%",children:[Object(w.jsx)(j.a,{bg:"white",border:"1px",borderColor:"grey",onClick:d,children:Object(w.jsxs)(W.a,{children:["Vaulted balances: ",c]})}),Object(w.jsx)(B.a,{in:u,children:Object.keys(t).map((function(e){return t[e].length>0?t[e].map((function(t,n){return Object(w.jsxs)(j.a,{fontSize:12,children:[Object(w.jsxs)(W.a,{maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:["Address: ",e]},e),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(W.a,{children:["Balance: ",t.balance]},t.toString()),Object(w.jsxs)(W.a,{children:["End Block: ",t.end]},t.start+t.end+e)]})]},e+n)})):null}))})]})},Le=function(e){var t=e.isOpen,n=e.close,r=e.contractState,c=a.a.useContext(y).state,s=a.a.useState([]),u=Object(o.a)(s,2),d=u[0],j=u[1],b=a.a.useState(""),f=Object(o.a)(b,2),p=f[0],x=f[1];return a.a.useEffect((function(){var e=!0;console.log(r);var t=function(){var t=Object(E.a)(A.a.mark((function t(n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Promise.all(n[c.address].map(function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===t||void 0===t?void 0:t.end)){e.next=6;break}return e.next=4,ne(c.blockHeight?c.blockHeight:0,n);case 4:return r=e.sent,e.abrupt("return",{balance:t.balance,message:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=t.sent,e&&j(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.vault&&r.vault[c.address]&&t(r.vault),function(){e=!1}}),[r]),a.a.useEffect((function(){var e;try{r.settings&&(e=r.settings.filter((function(e){return"communityLogo"===e[0]}))[0][1]),x(e)}catch(t){console.log("error loading logo"),console.log(t)}return e&&x(e),function(){x("")}}),[r]),Object(w.jsx)(w.Fragment,{children:r.balances&&Object(w.jsxs)(Se.a,{isOpen:t,placement:"right",onClose:n,size:"full",children:[Object(w.jsx)(O.h,{}),Object(w.jsxs)(Se.b,{children:[Object(w.jsx)(O.c,{onClick:n}),Object(w.jsxs)(O.g,{children:[r.name&&Object(w.jsx)(l.a,{size:"md",children:r.name}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(W.a,{children:r.ticker}),""!==p&&Object(w.jsx)(Ce.a,{src:"https://arweave.net/".concat(p)})]})]}),Object(w.jsxs)(O.b,{children:[Object(w.jsxs)(i.b,{children:[Object(w.jsxs)(W.a,{children:["Balance: ",r.balances[c.address]?r.balances[c.address]:0]}),d.map((function(e,t){return Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(W.a,{children:["Vaulted Balance: ",e.balance]},t+e.toString()),Object(w.jsx)(W.a,{children:e.message},t+e.message)]})})),Object(w.jsx)(Re,{contractID:r.contractID,ticker:r.ticker,balance:r.balances[c.address]})]}),r.balances&&Object(w.jsx)(ze,{balances:r.balances}),r.vault&&Object(w.jsx)(Ne,{vault:r.vault})]}),Object(w.jsx)(O.f,{mb:{base:"25%",sm:"25%",md:"25%",lg:0,xl:0},children:Object(w.jsx)(m.a,{variant:"outline",onClick:n,mr:3,children:"Close"})})]})]})})},We=n(633),Pe=n(634),Me=function(e){var t=Object(r.useState)(e.props.modal),n=Object(o.a)(t,2),c=n[0],s=n[1],l=a.a.useContext(y).state,u=Object(r.useState)(""),d=Object(o.a)(u,2),j=d[0],b=d[1],f=Object(r.useState)("0"),p=Object(o.a)(f,2),x=p[0],h=p[1],v=Object(r.useState)(""),g=Object(o.a)(v,2),k=g[0],S=g[1],C=Object(r.useState)(!1),T=Object(o.a)(C,2),D=T[0],F=T[1],R=Object(r.useState)(!0),N=Object(o.a)(R,2),L=N[0],P=N[1],M=Object(z.a)(),B=function(){$(0).then((function(e){return h(e)})).catch((function(){return M({title:"Error",status:"error",duration:3e3,position:"bottom-left",description:"Error getting fee, check your network connection and try again"})}))};Object(r.useEffect)((function(){s(e.props.modal),B()}),[e.props.modal]);var _=function(){var e=Object(E.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z({to:k,fee:x,txnId:"",amount:j},l.key),s(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(E.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=parseFloat(l.balance),n=t-parseFloat(x),b(n.toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(O.a,{closeOnOverlayClick:!1,isCentered:!0,isOpen:c,onClose:function(){s(!1),e.props.closeModal()},children:[Object(w.jsx)(O.h,{}),Object(w.jsxs)(O.d,{children:[Object(w.jsx)(O.g,{children:"Send AR"}),Object(w.jsx)(O.c,{}),Object(w.jsx)(O.b,{children:Object(w.jsxs)(i.b,{spacing:2,children:[Object(w.jsxs)(i.b,{children:[Object(w.jsx)(W.a,{children:"From:"}),Object(w.jsx)(W.a,{fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:l.address})]}),!D&&Object(w.jsx)(r.Fragment,{children:Object(w.jsxs)(i.b,{spacing:2,children:[Object(w.jsxs)(Oe.a,{isInvalid:k===l.address,children:[Object(w.jsx)(I.a,{placeholder:"Send to Arweave wallet address",value:k,onChange:function(e){return S(e.target.value)},onBlur:B,isInvalid:k===l.address}),Object(w.jsx)(he.a,{children:"Recipient address cannot be the same as the sending address"})]}),Object(w.jsxs)(Oe.a,{isInvalid:!L,children:[Object(w.jsxs)(We.a,{children:[Object(w.jsx)(I.a,{placeholder:"Amount",value:j,onChange:function(e){return b(e.target.value)},onBlur:function(){P(""===j||parseFloat((parseFloat(l.balance)-parseFloat(x)-parseFloat(j)).toFixed(12))>=0)},isInvalid:!L}),Object(w.jsx)(Pe.a,{children:"AR"})]}),Object(w.jsx)(he.a,{children:"Amount cannot be greater than wallet balance"})]}),Object(w.jsx)(m.a,{border:"none",onClick:q,children:"Use Wallet Balance"}),Object(w.jsxs)(W.a,{children:["Fee: ",x," AR"]}),Object(w.jsxs)(W.a,{children:["Total (including fee): ",(parseFloat(x)+parseFloat(j||"0")).toLocaleString("en-US",{style:"decimal",minimumFractionDigits:"0"!==x?x.split(".")[1].length:1})," AR"]})]})}),D&&Object(w.jsx)(r.Fragment,{children:Object(w.jsxs)(i.b,{spacing:2,children:[Object(w.jsxs)(i.b,{children:[Object(w.jsx)(W.a,{children:"To:"}),Object(w.jsx)(W.a,{fontSize:14,children:k})]}),Object(w.jsxs)(i.b,{isInline:!0,children:[Object(w.jsxs)(i.b,{children:[Object(w.jsx)(W.a,{children:"Sending"}),Object(w.jsxs)(W.a,{children:[j," AR"]})]}),Object(w.jsxs)(i.b,{children:[Object(w.jsx)(W.a,{children:"Fee"}),Object(w.jsxs)(W.a,{children:[x," AR"]})]})]}),Object(w.jsxs)(i.b,{children:[Object(w.jsx)(W.a,{children:"Total"}),Object(w.jsxs)(W.a,{children:[(parseFloat(x)+parseFloat(j||"0")).toLocaleString("en-US",{style:"decimal",minimumFractionDigits:"0"!==x?x.split(".")[1].length:1})," AR"]})]}),Object(w.jsxs)(i.b,{children:[Object(w.jsx)(W.a,{children:"Balance after transaction"}),Object(w.jsxs)(W.a,{children:[(parseFloat(l.balance)-parseFloat(x)-parseFloat(j)).toString()," AR"]})]})]})})]})}),Object(w.jsx)(O.f,{children:D?Object(w.jsx)(m.a,{bg:"#333",color:"white",w:"100%",onClick:function(){_(),s(!1),e.props.closeModal()},children:"Confirm and Send AR"}):Object(w.jsx)(m.a,{bg:"#333",color:"white",w:"100%",isDisabled:!L||""===k,onClick:function(){return F(!0)},children:"Next"})})]})]})},Be=function(e){var t=e.close,n=a.a.useContext(y),r=n.state,c=n.dispatch,s=a.a.useState(""),u=Object(o.a)(s,2),j=u[0],b=u[1],f=a.a.useState(!1),p=Object(o.a)(f,2),x=p[0],O=p[1],h=a.a.useState(!0),v=Object(o.a)(h,2),g=v[0],k=v[1],S=Object(z.a)(),C=function(){var e=Object(E.a)(A.a.mark((function e(){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),n=Object(be.a)(r.tokens),!r.tokenAddresses||r.tokenAddresses.find((function(e){return e===j}))){e.next=24;break}return e.prev=3,e.next=6,Q(j);case 6:a=e.sent,n.push(a),c({type:"UPDATE_TOKENS",payload:{tokens:n}}),b(""),O(!1),t(),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("error adding token"),console.log(e.t0),S({title:"Error loading token",status:"error",duration:3e3,position:"bottom",description:"Please check contract ID and try again"}),b(""),O(!1),t();case 22:e.next=25;break;case 24:S({title:"Token already in list",status:"error",duration:3e3,position:"bottom",description:"Please check contract ID and try again"});case 25:b(""),O(!1),t();case 28:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(i.b,{children:[Object(w.jsx)(l.a,{size:"sm",children:"Add Custom Token"}),Object(w.jsxs)(Oe.a,{isInvalid:!g,children:[Object(w.jsxs)(i.b,{isInline:!0,children:[Object(w.jsx)(I.a,{placeholder:"Contract ID",onChange:function(e){b(e.target.value)},onBlur:function(){return console.log(r.tokens),void(r.tokens.find((function(e){return e&&e.hasOwnProperty("contract")&&e.contract===j}))?k(!1):k(!0))}}),Object(w.jsx)(m.a,{isDisabled:x||!g||""===j,onClick:function(){return C()},children:"Add Token"}),x&&Object(w.jsx)(d.a,{})]}),Object(w.jsx)(he.a,{children:"Token already loaded"})]})]})},_e=function(){var e=a.a.useContext(y),t=e.state,n=e.dispatch,r=a.a.useState(!1),c=Object(o.a)(r,2),s=c[0],u=c[1],p=a.a.useState(""),x=Object(o.a)(p,2),O=x[0],h=x[1],v=a.a.useState(0),g=Object(o.a)(v,2),k=g[0],S=g[1],T=a.a.useState(""),D=Object(o.a)(T,2),F=D[0],R=D[1],N=a.a.useState(!1),L=Object(o.a)(N,2),P=L[0],M=L[1],B=a.a.useState(!1),_=Object(o.a)(B,2),q=_[0],U=_[1],V=Object(z.a)(),H=a.a.useState(!1),J=Object(o.a)(H,2),G=J[0],K=J[1],Y=a.a.useState({}),X=Object(o.a)(Y,2),Z=X[0],te=X[1],ne=a.a.useState(t.tokens),ae=Object(o.a)(ne,2),ce=ae[0],se=ae[1],oe=a.a.useState("balances"),ie=Object(o.a)(oe,2),le=ie[0],ue=ie[1];a.a.useEffect((function(){$(new Blob([Math.random().toString().slice(-4)]).size).then((function(e){return R(e)}))}),[]),a.a.useEffect((function(){if(t.address&&t.tokens)switch(le){case"all":se(t.tokens.sort((function(e,t){if(!t.contractState&&!e.contractState)return 0;var n=e.ticker.toUpperCase(),r=t.ticker.toUpperCase();return n>r?1:r>n?-1:0})));break;case"balances":se(t.tokens.filter((function(e){return e&&e.contractState&&e.contractState.balances[t.address]>0})));break;case"distribution":se(t.tokens.sort((function(e,t){if(!t.contractState&&!e.contractState)return 0;var n=Object.keys(e.contractState.balances).length,r=Object.keys(t.contractState.balances).length;return n<r?1:r<n?-1:0})));break;default:se(t.tokens)}}),[t.tokens,le]),a.a.useEffect((function(){function e(){return r.apply(this,arguments)}function r(){return(r=Object(xe.a)(A.a.mark((function e(){var n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tokenAddresses){e.next=8;break}n=A.a.mark((function e(n){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tokens.find((function(e){return e.contract===t.tokenAddresses[n]}))){e.next=13;break}return e.prev=1,e.next=4,Object(pe.a)(Q(t.tokenAddresses[n]));case 4:return r=e.sent,e.next=7,r;case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error loading token"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),r=0;case 3:if(!(r<(null===(a=t.tokenAddresses)||void 0===a?void 0:a.length))){e.next=8;break}return e.delegateYield(n(r),"t0",5);case 5:r++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){var r=Object(E.a)(A.a.mark((function r(){var a,c,s,o,i,l,u,d;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=[],U(!0),c=!0,s=!1,r.prev=4,i=Object(fe.a)(e());case 6:return r.next=8,i.next();case 8:return l=r.sent,c=l.done,r.next=12,l.value;case 12:if(u=r.sent,c){r.next=20;break}d=u,console.log(d),a.push(d);case 17:c=!0,r.next=6;break;case 20:r.next=26;break;case 22:r.prev=22,r.t0=r.catch(4),s=!0,o=r.t0;case 26:if(r.prev=26,r.prev=27,c||null==i.return){r.next=31;break}return r.next=31,i.return();case 31:if(r.prev=31,!s){r.next=34;break}throw o;case 34:return r.finish(31);case 35:return r.finish(26);case 36:U(!1),n({type:"UPDATE_TOKENS",payload:{tokens:a}}),Object(b.b)("wallets",JSON.stringify(t));case 39:case"end":return r.stop()}}),r,null,[[4,22,26,36],[27,,31,35]])})));return function(){return r.apply(this,arguments)}})()()}),[t.tokenAddresses]),a.a.useEffect((function(){(function(){var e=Object(E.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:r=e.sent,n({type:"SET_TOKEN_ADDRESSES",payload:{tokenAddresses:r}}),console.log(t.tokenAddresses);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var de=function(){var e=Object(E.a)(A.a.mark((function e(n,r){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,ee(n.contract,k,O,t.key);case 3:a=e.sent,M(!1),r(),V({title:"Transaction Status - ".concat(a),status:"info",duration:3e3,position:"bottom"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsxs)(j.a,{textAlign:"left",children:[Object(w.jsxs)(W.a,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:["Address: ",t.address]}),Object(w.jsxs)(ve.a,{columns:3,my:2,alignItems:"center",children:[Object(w.jsx)(W.a,{children:"AR"}),Object(w.jsx)(W.a,{children:parseFloat(t.balance).toLocaleString(void 0,{maximumFractionDigits:6})}),Object(w.jsx)(m.a,{isDisabled:!t.key,onClick:function(){return u(!0)},children:"Send"})]}),Object(w.jsx)(me.a,{my:4}),Object(w.jsx)(l.a,{align:"center",size:"sm",children:"Profit Sharing Tokens"}),Object(w.jsxs)(ge.a,{placeholder:"Filtering options",value:le,onChange:function(e){return ue(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"All tokens"}),Object(w.jsx)("option",{value:"balances",children:"Tokens with balances"}),Object(w.jsx)("option",{value:"distribution",children:"Number of active wallets"})]}),Object(w.jsxs)(ve.a,{columns:4,children:[Object(w.jsx)(W.a,{fontWeight:"bold",minWidth:"150px",children:"Ticker"}),Object(w.jsx)(W.a,{fontWeight:"bold",children:"Balance"})]}),q&&Object(w.jsx)(ye.a,{h:"200px",children:Object(w.jsxs)(j.a,{align:"center",children:[Object(w.jsx)(d.a,{pb:"10px"}),Object(w.jsx)(W.a,{children:"Loading tokens..."})]})}),ce.map((function(e){if(e&&e.ticker)return Object(w.jsxs)(ve.a,{borderY:"1px",borderColor:"lightgray",columns:4,my:2,py:1,alignItems:"center",children:[Object(w.jsx)(W.a,{minWidth:"150px",onClick:function(){te(Object(C.a)(Object(C.a)({},e.contractState),{},{contractID:e.contract})),K(!0)},children:e.ticker}),Object(w.jsx)(W.a,{minWidth:"120px",onClick:function(){te(Object(C.a)(Object(C.a)({},e.contractState),{},{contractID:e.contract})),K(!0)},children:e.contractState.balances[t.address]}),Object(w.jsx)(ke.a,{closeOnBlur:!1,children:function(n){var r=n.onClose;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ke.g,{children:Object(w.jsx)(m.a,{justifySelf:"end",children:"Send"})}),Object(w.jsxs)(ke.e,{zIndex:4,children:[Object(w.jsx)(ke.b,{}),Object(w.jsx)(ke.f,{children:"Send Tokens"}),Object(w.jsx)(ke.d,{}),Object(w.jsx)(ke.c,{children:Object(w.jsx)(i.b,{align:"center",children:P?Object(w.jsxs)(j.a,{children:[Object(w.jsx)(d.a,{}),Object(w.jsx)(W.a,{children:"Submitting Transaction"})]}):Object(w.jsxs)(j.a,{children:[Object(w.jsx)(I.a,{my:2,placeholder:"Amount",onChange:function(e){S(parseFloat(e.target.value))}}),Object(w.jsx)(I.a,{placeholder:"Address",onChange:function(e){h(e.target.value)}}),Object(w.jsxs)(W.a,{textAlign:"center",children:["Fee: ",F]}),Object(w.jsx)(m.a,{isDisabled:!t.key,w:"90%",onClick:function(){de(e,r)},children:"Submit Transaction"})]})})})]})]})}}),Object(w.jsx)(we.a,{justifySelf:"end",as:f.b,onClick:function(){te(Object(C.a)(Object(C.a)({},e.contractState),{},{contractID:e.contract})),K(!0)}})]},e.contract+"grid")})),Object(w.jsx)(Me,{props:{modal:s,closeModal:function(){return u(!1)}}}),Object(w.jsx)(ke.a,{placement:"top-end",children:function(e){var t=e.onClose;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ke.g,{children:Object(w.jsx)(m.a,{position:"fixed",bottom:"50px",left:"20px",children:"Add Custom Token"})}),Object(w.jsxs)(ke.e,{children:[Object(w.jsx)(ke.d,{}),Object(w.jsx)(ke.c,{children:Object(w.jsx)(Be,{close:t})})]})]})}}),Object(w.jsx)(Le,{isOpen:G,close:function(){return K(!1)},contractState:Z})]})},qe=n(156),Ue=function(e){var t=e.tags,n=e.clickHandler,r=a.a.useState(""),c=Object(o.a)(r,2),s=c[0],u=c[1],d=a.a.useState(""),j=Object(o.a)(d,2),b=j[0],f=j[1];return Object(w.jsxs)(i.b,{children:[Object(w.jsx)(l.a,{size:"sm",children:"Transacion Tags"}),t.map((function(e){return Object(w.jsxs)(ve.a,{columns:2,fontSize:12,children:[Object(w.jsxs)(W.a,{children:["Name: ",e.name]}),Object(w.jsxs)(W.a,{children:["Value: ",e.value]})]},e.name+e.value)})),Object(w.jsx)(I.a,{placeholder:"Name",value:s,onChange:function(e){return u(e.target.value)}}),Object(w.jsx)(I.a,{placeholder:"Value",value:b,onChange:function(e){return f(e.target.value)}}),Object(w.jsx)(m.a,{isDisabled:""===s||""===b,onClick:function(){n(s,b),u(""),f("")},children:"Add Tag"})]})},Ve=function(e){var t=e.isOpen,n=e.close,r=a.a.useContext(y),c=r.state,s=r.dispatch,l=Object(z.a)(),u=a.a.useState(null),b=Object(o.a)(u,2),f=b[0],p=b[1],x=a.a.useState([]),h=Object(o.a)(x,2),v=h[0],g=h[1],k=a.a.useState("0"),S=Object(o.a)(k,2),T=S[0],I=S[1],D=a.a.useState(!1),F=Object(o.a)(D,2),R=F[0],N=F[1];a.a.useEffect((function(){c.picture&&fetch(c.picture).then((function(e){return e.blob()})).then((function(e){M([e]),s({type:"SET_PICTURE",payload:{picture:""}})}))}),[c.picture]);var L=function(){p(null),g([]),n()},P=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,te(f,c.key,v);case 3:(t=e.sent).startsWith("Transaction")?l({title:"Success",status:"success",duration:3e3,position:"bottom",description:"Your file has been submitted to the blockchain"}):l({title:"Error submitting transaction",status:"error",duration:3e3,position:"bottom",description:t}),setTimeout((function(){N(!1),L()}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(E.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FileReader).onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=Object(E.a)(A.a.mark((function e(n){var r,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.target){e.next=9;break}return r=t[0],a=[{name:"App-Name",value:"ArMob 2.0"},{name:"Content-Type",value:t[0].type}],e.next=5,$(t[0].size);case 5:c=e.sent,I(c),p(r),g(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();try{n.readAsText(t[0])}catch(r){console.log("Unable to process file",r),l({title:"Error processing file",status:"error",duration:3e3,position:"bottom",description:"Please try again"})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(Se.a,{isOpen:t,placement:"right",onClose:n,size:"full",children:[Object(w.jsx)(O.h,{}),Object(w.jsxs)(Se.b,{children:[Object(w.jsx)(O.c,{onClick:L}),Object(w.jsx)(O.g,{children:"Upload file to Arweave"}),Object(w.jsxs)(O.b,{children:[!f&&Object(w.jsx)(j.a,{w:"100%",borderStyle:"dashed",borderWidth:"2px",children:Object(w.jsx)(qe.a,{onDrop:M,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(w.jsx)("section",{children:Object(w.jsxs)("div",Object(C.a)(Object(C.a)({},t()),{},{children:[Object(w.jsx)("input",Object(C.a)({},n())),Object(w.jsx)(j.a,{flexDirection:"row",padding:3,children:Object(w.jsx)(W.a,{fontSize:14,textAlign:"center",children:"Drop a file or click to select from system file picker"})})]}))})}})}),f&&!R&&Object(w.jsxs)(i.b,{children:[Object(w.jsxs)(W.a,{children:["Fee: ",T," AR"]}),Object(w.jsx)(Ue,{tags:v,clickHandler:function(e,t){if(void 0!==v){var n=[].concat(Object(be.a)(v),[{name:e,value:t}]);g(n)}else g([{name:e,value:t}])}})]}),f&&R&&Object(w.jsx)(d.a,{position:"absolute",top:"50%",left:"50%"})]}),Object(w.jsxs)(O.f,{mb:{base:"25%",sm:"25%",md:"25%",lg:0,xl:0},children:[Object(w.jsx)(m.a,{variant:"outline",onClick:L,mr:3,children:"Cancel"}),Object(w.jsx)(m.a,{color:"blue",isDisabled:!f,onClick:P,children:"Upload File"})]})]})]})},He=function(){var e=a.a.useContext(y).state,t=a.a.useState(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],s=a.a.useState([]),u=Object(o.a)(s,2),b=u[0],p=u[1],x=a.a.useState(""),O=Object(o.a)(x,2),h=O[0],g=O[1],k=a.a.useState(""),S=Object(o.a)(k,2),C=S[0],T=S[1],D=a.a.useState("from"),F=Object(o.a)(D,2),R=F[0],z=F[1];a.a.useEffect((function(){function t(){return(t=Object(E.a)(A.a.mark((function t(){var n,r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(!0),t.t0=R,t.next="from"===t.t0?4:"to"===t.t0?9:14;break;case 4:return t.next=6,X({address:e.address});case 6:return n=t.sent,p(n),t.abrupt("break",18);case 9:return t.next=11,X({to:e.address});case 11:return r=t.sent,p(r),t.abrupt("break",18);case 14:return t.next=16,X({address:e.address});case 16:a=t.sent,p(a);case 18:c(!1);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}""!==e.address?function(){t.apply(this,arguments)}():p([])}),[e.address,R]);var N=function(){var t=Object(E.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,X({address:e.address,name:h,value:C});case 3:n=t.sent,p(n),c(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(E.a)(A.a.mark((function t(){var n,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(!0),n=b[b.length-1].cursor,"from"!==R){t.next=8;break}return t.next=5,X({address:e.address,cursor:n});case 5:r=t.sent,t.next=11;break;case 8:return t.next=10,X({to:e.address,cursor:n});case 10:r=t.sent;case 11:p(r),c(!1);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)(j.a,{h:"100%",children:[Object(w.jsx)(P.a,{onChange:function(e){return z(e.toString())},value:R,defaultValue:"from",children:Object(w.jsxs)(i.b,{direction:"row",spacing:4,children:[Object(w.jsx)(M.a,{defaultChecked:!0,value:"from",children:"From Wallet"}),Object(w.jsx)(M.a,{value:"to",children:"To Wallet"})]})}),r?Object(w.jsx)(d.a,{position:"fixed",bottom:"50%",right:"50%"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L.a,{allowToggle:!0,allowMultiple:!0,w:"100%",children:b.length>0?b.map((function(t){return function(e,t){var n=e.node.quantity.ar,r="AR";if(0===parseFloat(e.node.quantity.ar)){var c=e.node.tags.filter((function(e){return"Input"===e.name}));if(c.length>0){var s=JSON.parse(c[0].value);s.hasOwnProperty("qty")&&(n=s.qty);var o=e.node.tags.filter((function(e){return"Contract"===e.name}))[0].value,i=t.filter((function(e){return e.contract===o}));r=i.length>0?i[0].ticker:"of some PST"}}return Object(w.jsxs)(L.d,{textAlign:"left",children:[Object(w.jsxs)(L.b,{bg:"white",border:"1px",borderColor:"grey",children:[Object(w.jsxs)(W.a,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:["ID: ",e.node.id]},e.node.id+"display"),Object(w.jsx)(L.c,{})]},e.node.id+"button"),Object(w.jsxs)(L.e,{border:"1px",children:[Object(w.jsx)(l.a,{size:"xs",fontSize:"12px",children:"Metadata"}),Object(w.jsxs)(ve.a,{columns:2,children:[Object(w.jsx)(W.a,{fontSize:10,children:"Transaction ID: "}),Object(w.jsx)(W.a,{cursor:"pointer",onClick:function(){return navigator.clipboard.writeText(e.node.id)},fontSize:10,children:e.node.id}),Object(w.jsx)(W.a,{fontSize:10,children:"Fee: "}),Object(w.jsxs)(W.a,{fontSize:10,children:[e.node.fee.ar," AR"]}),e.node.recipient&&Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsx)(W.a,{fontSize:10,children:"Recipient: "}),Object(w.jsx)(W.a,{cursor:"pointer",onClick:function(){return navigator.clipboard.writeText(e.node.recipient)},fontSize:10,children:e.node.recipient})]}),e.node.owner&&Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsx)(W.a,{fontSize:10,children:"From: "}),Object(w.jsx)(W.a,{cursor:"pointer",onClick:function(){return navigator.clipboard.writeText(e.node.owner.address)},fontSize:10,children:e.node.owner.address}),Object(w.jsx)(W.a,{fontSize:10,children:"Amount: "}),Object(w.jsxs)(W.a,{fontSize:10,children:[n," ",r]})]})]}),e.node.tags.length>0&&Object(w.jsx)(l.a,{size:"xs",fontSize:"12px",children:"Transaction Tags"}),e.node.tags.map((function(t){return Object(w.jsxs)(ve.a,{columns:2,textAlign:"left",overflow:"auto",children:[Object(w.jsx)(W.a,{fontSize:10,children:t.name},t.toString()),Object(w.jsx)(W.a,{fontSize:10,children:t.value},t.name+t.value)]},e.node.id+t.name)}))]})]},e.node.id)}(t,e.tokens)})):null}),Object(w.jsx)(m.a,{my:2,isDisabled:b.length<10,leftIcon:Object(w.jsx)(f.b,{}),onClick:function(){return B()},children:"Next 10"}),Object(w.jsxs)(ke.a,{children:[Object(w.jsx)(ke.g,{children:Object(w.jsx)(v.a,{position:"fixed",bottom:"6%",left:"5%","aria-label":"search transactions",icon:Object(w.jsx)(f.h,{})})}),Object(w.jsx)(ke.e,{children:Object(w.jsxs)(i.b,{children:[Object(w.jsx)(I.a,{placeholder:"Name",value:h,onChange:function(e){return g(e.target.value)}}),Object(w.jsx)(I.a,{placeholder:"Value",value:C,onChange:function(e){return T(e.target.value)}}),Object(w.jsx)(m.a,{isDisabled:""===h||""===C,onClick:function(){N(),g(""),T("")},children:"Search by Tag"})]})})]})]})]})},Je=n(636),Ge=n(640),Ke=n(637),Ye=n(206),Qe=function(){var e=Object(z.a)(),t=a.a.useContext(y),n=t.state,r=t.dispatch,c=a.a.useState(!1),s=Object(o.a)(c,2),u=s[0],d=s[1],p=a.a.useState(""),x=Object(o.a)(p,2),O=x[0],h=x[1],v=a.a.useState(""),g=Object(o.a)(v,2),k=g[0],S=g[1],T=Object(Je.a)(k).onCopy,D=function(){var t=Object(E.a)(A.a.mark((function t(a){var c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=new FileReader).onabort=function(){return console.log("file reading was aborted")},c.onerror=function(){return console.log("file reading has failed")},c.onload=function(){var t=Object(E.a)(A.a.mark((function t(c){var s,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(!0),"application/json"!==a[0].type){t.next=19;break}return t.prev=2,s=JSON.parse(c.target.result),t.next=6,Y(s);case 6:return o=t.sent,t.next=9,Object(b.b)("wallet",JSON.stringify(s));case 9:r({type:"ADD_WALLET",payload:Object(C.a)(Object(C.a)({},o),{},{key:s,mnemonic:s.mnemonic})}),Object(b.b)("wallets",JSON.stringify(n)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.log("Invalid json in wallet file"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid JSON in wallet file"});case 17:t.next=21;break;case 19:console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"});case 21:d(!1);case 22:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();try{c.readAsText(a[0])}catch(s){console.log("Invalid file type"),e({title:"Error loading wallet",status:"error",duration:3e3,position:"bottom-left",description:"Invalid file type"})}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var e=Object(E.a)(A.a.mark((function e(t){var a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Object(Ye.getKeyFromMnemonic)(t);case 3:return a=e.sent,e.next=6,Y(a);case 6:return c=e.sent,e.next=9,Object(b.b)("wallet",JSON.stringify(a));case 9:d(!1),r({type:"ADD_WALLET",payload:Object(C.a)(Object(C.a)({},c),{},{key:a,mnemonic:t})}),Object(b.b)("wallets",JSON.stringify(n));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Object(Ye.generateMnemonic)();case 3:t=e.sent,h(t),F(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Y(O);case 3:t=e.sent,r({type:"ADD_WALLET",payload:Object(C.a)(Object(C.a)({},t),{},{key:""})}),Object(b.b)("wallets",JSON.stringify(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(E.a)(A.a.mark((function e(t){var n,r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([JSON.stringify(Object(C.a)(Object(C.a)({},t.key),{},{mnemonic:t.mnemonic}),null,2)],{type:"application/json"}),e.next=3,URL.createObjectURL(n);case 3:r=e.sent,(a=document.createElement("a")).href=r,a.download="arweave-keyfile-".concat(t.address,".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(E.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:n=e.sent,r({type:"CHANGE_ACTIVE_WALLET",payload:{address:n.address,balance:n.balance}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(i.b,{align:"center",children:[Object(w.jsxs)(Ge.a,{isLoaded:!u,children:[Object(w.jsx)(j.a,{w:"100%",borderStyle:"dashed",borderWidth:"2px",mb:2,children:Object(w.jsx)(qe.a,{onDrop:D,children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(w.jsx)("section",{children:Object(w.jsxs)("div",Object(C.a)(Object(C.a)({},t()),{},{children:[Object(w.jsx)("input",Object(C.a)({},n())),Object(w.jsx)(j.a,{flexDirection:"row",padding:3,children:Object(w.jsx)(W.a,{fontSize:14,textAlign:"center",children:"Drop a wallet file or click to load wallet"})})]}))})}})}),Object(w.jsxs)(i.b,{w:"100%",mb:2,children:[Object(w.jsx)(l.a,{size:"xs",children:"Wallet mnemonic"}),Object(w.jsx)(I.a,{w:"93%%",placeholder:"Enter 12 word seedphrase",onChange:function(e){h(e.target.value)}}),Object(w.jsx)(m.a,{isDisabled:""===O,onClick:function(){return F(O)},children:"Load Wallet"})]}),Object(w.jsxs)(i.b,{w:"100%",children:[Object(w.jsx)(l.a,{size:"xs",children:"Track a Wallet"}),Object(w.jsx)(I.a,{w:"93%%",placeholder:"Enter a wallet address",onChange:function(e){h(e.target.value)}}),Object(w.jsx)(m.a,{isDisabled:""===O,onClick:function(){return N()},children:"Track Address"}),Object(w.jsx)(m.a,{mt:2,onClick:R,children:"Generate New Wallet"})]})]}),n.address&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(me.a,{}),Object(w.jsx)(l.a,{size:"sm",children:"Loaded Wallets"})]}),n.wallets.length>0&&n.wallets.map((function(e){return console.log(e),Object(w.jsx)(i.b,{isInline:!0,align:"start",children:Object(w.jsxs)(ke.a,{children:[Object(w.jsx)(ke.g,{children:Object(w.jsx)(W.a,{whiteSpace:"nowrap",overflow:"hidden",maxWidth:"90vw",textOverflow:"ellipsis",cursor:"pointer",children:e.address})}),Object(w.jsxs)(ke.e,{children:[Object(w.jsx)(ke.b,{}),Object(w.jsx)(ke.c,{children:Object(w.jsxs)(i.b,{isInline:!0,justifyContent:"space-around",children:[Object(w.jsxs)(Ke.a,{direction:"column",align:"center",justify:"center",as:"button",onClick:function(){P(e.address)},alignContent:"start",children:[Object(w.jsx)(f.c,{size:16}),Object(w.jsx)(W.a,{children:"Use"})]},e.address+"pseudo2"),Object(w.jsxs)(Ke.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){r({type:"REMOVE_WALLET",payload:{address:e.address}})},children:[Object(w.jsx)(f.i,{size:16}),Object(w.jsx)(W.a,{children:"Remove"})]}),Object(w.jsxs)(Ke.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){return L(e)},children:[Object(w.jsx)(f.e,{size:16}),Object(w.jsx)(W.a,{children:"Download Keyfile"})]}),e.mnemonic&&Object(w.jsxs)(Ke.a,{as:"button",direction:"column",align:"center",justify:"center",onClick:function(){e.mnemonic&&S(e.mnemonic),T()},children:[Object(w.jsx)(f.d,{size:16}),Object(w.jsx)(W.a,{children:"Copy Seedphrase"})]})]})})]})]})})}))]})},Xe=function(e,t){switch(console.log("Current state is:"),console.log(e),console.log("Action requested is:"),console.log(t),t.type){case"LOAD_STATE":return Object(C.a)({},t.payload.state);case"ADD_WALLET":var n,r=null===(n=e.wallets)||void 0===n?void 0:n.filter((function(e){return e.address===t.payload.address})),a=e.wallets?e.wallets:[];return r&&0===r.length&&(null===a||void 0===a||a.push({address:t.payload.address,key:t.payload.key,mnemonic:t.payload.mnemonic})),Object(C.a)(Object(C.a)({},e),{},{key:t.payload.key,balance:t.payload.balance,address:t.payload.address,mnemonic:t.payload.mnemonic,wallets:a});case"UPDATE_TOKENS":return Object(C.a)(Object(C.a)({},e),{},{tokens:t.payload.tokens});case"SET_PICTURE":return Object(C.a)(Object(C.a)({},e),{},{picture:t.payload.picture});case"SET_BLOCK_HEIGHT":return Object(C.a)(Object(C.a)({},e),{},{blockHeight:t.payload.blockHeight});case"SET_TOKEN_ADDRESSES":return Object(C.a)(Object(C.a)({},e),{},{tokenAddresses:t.payload.tokenAddresses});case"CHANGE_ACTIVE_WALLET":var c=e.wallets.find((function(e){return e.address===t.payload.address}));return Object(C.a)(Object(C.a)({},e),{},{address:t.payload.address,key:null===c||void 0===c?void 0:c.key,balance:t.payload.balance,mnemonic:null===c||void 0===c?void 0:c.mnemonic});case"REMOVE_WALLET":var s,o,i=e.wallets.filter((function(e){return e.address!==t.payload.address}));return i.length>0?Object(C.a)(Object(C.a)({},e),{},{wallets:i,address:null===(s=i[0])||void 0===s?void 0:s.address,key:null===(o=i[0])||void 0===o?void 0:o.key}):Object(C.a)(Object(C.a)({},e),{},{wallets:[],address:"",key:"",balance:""});default:return e}};var $e=function(){var e=a.a.useReducer(Xe,g),t=Object(o.a)(e,2),n=t[0],r=t[1],c=a.a.useState(!1),s=Object(o.a)(c,2),p=s[0],x=s[1],O=a.a.useState(!1),h=Object(o.a)(O,2),v=h[0],m=h[1],k=a.a.useState(!0),C=Object(o.a)(k,2),T=C[0],A=C[1],E=function(e){"txn"===e&&x(!1),"camera"===e&&m(!1)};return a.a.useEffect((function(){K().then((function(e){return r({type:"SET_BLOCK_HEIGHT",payload:{blockHeight:e}})}))}),[]),a.a.useEffect((function(){Object(b.a)("wallets").then((function(e){if(e){var t=JSON.parse(e);r({type:"LOAD_STATE",payload:{state:t}})}A(!1)}))}),[]),Object(w.jsxs)(y.Provider,{value:{dispatch:r,state:n},children:[Object(w.jsxs)(i.b,{w:"100%",align:"center",children:[Object(w.jsx)(l.a,{children:"ArMob 2.0"}),Object(w.jsxs)(u.e,{isFitted:!0,align:"center",variant:"enclosed-colored",children:[Object(w.jsxs)(u.d,{w:"90vw",children:[Object(w.jsx)(u.c,{children:Object(w.jsx)(Qe,{})}),Object(w.jsx)(u.c,{children:T?Object(w.jsx)(d.a,{position:"fixed",bottom:"50%",right:"50%"}):""!==n.address&&Object(w.jsx)(j.a,{children:Object(w.jsx)(_e,{})})}),Object(w.jsx)(u.c,{children:""!==n.address&&Object(w.jsx)(He,{})}),Object(w.jsx)(u.c,{children:Object(w.jsx)(le,{})})]}),Object(w.jsxs)(u.b,{position:"fixed",bottom:"0px",left:"0px",w:"100vw",children:[Object(w.jsx)(u.a,{children:"Wallet"}),Object(w.jsx)(u.a,{isDisabled:""===n.address,children:"Tokens"}),Object(w.jsx)(u.a,{isDisabled:""===n.address,children:"Transactions"}),Object(w.jsx)(u.a,{isDisabled:""===n.key,children:"Smartweave"})]})]})]}),n.key&&Object(w.jsxs)(je,{children:[n.key&&Object(w.jsx)(de,{icon:Object(w.jsx)(f.j,{}),label:"Upload File",clickHandler:function(){return x(!0)}},"faupload"),n.key&&Object(w.jsx)(de,{icon:Object(w.jsx)(f.a,{}),label:"Take Picture",clickHandler:function(){return m(!0)}},"facameretro")]}),Object(w.jsx)(Ve,{isOpen:p,close:function(){return E("txn")}}),Object(w.jsx)(S,{isOpen:v,close:function(){return E("camera")},setTxnOpen:function(){return x(!0)}})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,648)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},et=n(643),tt=n(150);s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(et.a,{theme:tt.theme,children:Object(w.jsx)($e,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ze()}},[[597,1,2]]]);
//# sourceMappingURL=main.37dc3326.chunk.js.map